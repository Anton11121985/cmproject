<?xml version='1.0' encoding='UTF-8'?>
<pkd xmlns="http://www.intertrust.ru/schema/palette/pkd">
  <queue name="На исполнение" stacks="true" id="onExecWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() &&  (getEventInfo().getEventCode().getEventCodeId().equals("EXEC1_11") || getEventInfo().getEventCode().getEventCodeId().equals("SEND1_21") && getEventInfo().getDocument() != null && (getEventInfo().getDocument().getTypeDatabase().startsWith('Tasks') || !getEventInfo().getDocument().getParentUnid().equals(getEventInfo().getDocument().getRootUnid()))) &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="На подпись" stacks="true" id="forSignWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("SIGN1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
    </sorts>
  </queue>
  <queue name="На рассмотрение" stacks="true" id="forCondsidWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && (getEventInfo().getEventCode().getEventCodeId().equals("ADDR1_11") || getEventInfo().getEventCode().getEventCodeId().equals("SEND1_21") && getEventInfo().getDocument() != null && (!getEventInfo().getDocument().getTypeDatabase().startsWith('Tasks') && getEventInfo().getDocument().getParentUnid() != null && !getEventInfo().getDocument().getParentUnid().isEmpty() && getEventInfo().getDocument().getParentUnid().equals(getEventInfo().getDocument().getRootUnid()))) &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="На согласование" stacks="true" id="onApprovWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("VISA1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="На ознакомление" stacks="true" id="onFamiliarizationWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("FMLR1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).DONE) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="Архив" id="Archive">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && (T(com.google.common.collect.Sets).newHashSet("EXEC1_11","ADDR1_11", "SIGN1_11", "VISA1_11", "SEND1_21", "FMLR1_11").contains(getEventInfo().getEventCode().getEventCodeId()) && (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).COMPLETED) || getEventInfo().getEventCode().getEventCodeId().equals("EXEC3_11") && (getEventInfo().getTaskStatus() == null || !getEventInfo().getTaskStatus().name().equals('REFUSED')) && T(ru.intertrust.cmj.pkd.tools.TaskInQueueInclusionUtils).isAllReportTasksCompleted(#this))]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="byTask"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref applicable="true" ref="durInArchive"/>
    </filters>
    <sorts>
      <sort-ref ref="byCreatedDate"/>
      <sort-ref applicable="true" ref="byExecDate"/>
    </sorts>
  </queue>
  <queue name="Мои проекты" id="MyProjectsWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonProject)
      && #this.getDocument() != null && (#this.getDocument().getTypeDocument().equals('RKK') || #this.getDocument().getTypeDocument().equals('CONTRACT') || #this.getDocument().getTypeDocument().equals('CONTRACT_') || #this.getDocument().getTypeDocument().equals('RESOLUTION') && (#this.getDocument().getParentUnid() == null || #this.getDocument().getParentUnid().isEmpty()))
      && !isDeleted() && !isInTrash() && !#this.getDocument().isDeleted() && isProject()
      && (#this.getDocument().getIsProject() == T(ru.intertrust.cmj.pkd.domain.documents.PkdDocument.ProjectStatus).PROJECT
      OR (#this.getDocument().getIsProject() == null && (#this.getDocument().getRegStatus() == null || !#this.getDocument().getRegStatus().equals('REGISTERED'))))]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byDocumentStatus"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref applicable="true" ref="byDocDBType"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byDocCreatedDate"/>
    </sorts>
  </queue>
  <queue name="Мои зарегистрированные" id="MyRegisteredWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.MyDocument)
      && #this.getDocument() != null && (#this.getDocument().getTypeDocument().equals('RKK') || #this.getDocument().getTypeDocument().equals('CONTRACT') || #this.getDocument().getTypeDocument().equals('CONTRACT_') || #this.getDocument().getTypeDocument().equals('RESOLUTION') && (#this.getDocument().getParentUnid() == null || #this.getDocument().getParentUnid().isEmpty()))
      && !isDeleted() && !isInTrash() && !#this.getDocument().isDeleted() && isRegistered()
      && (#this.getDocument().getIsProject() == T(ru.intertrust.cmj.pkd.domain.documents.PkdDocument.ProjectStatus).NOT_PROJECT
      OR (#this.getDocument().getIsProject() == null && #this.getDocument().getRegStatus().equals('REGISTERED')))]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byDocumentStatus"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref applicable="true" ref="byDocDBType"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byDocRegCounter"/>
    </sorts>
  </queue>
  <queue name="Последние открытые" id="LastOpenedWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.MyDocument)
      && #this.getDocument() != null && (#this.getDocument().getTypeDocument().equals('RKK') || #this.getDocument().getTypeDocument().equals('CONTRACT') || #this.getDocument().getTypeDocument().equals('CONTRACT_') || #this.getDocument().getTypeDocument().equals('RESOLUTION') && (#this.getDocument().getParentUnid() == null || #this.getDocument().getParentUnid().isEmpty()))
      && !isDeleted() && !isInTrash() && !#this.getDocument().isDeleted() && isOpened()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byDocumentStatus"/>
      <filter-ref ref="byDocType"/>
      <filter-ref applicable="true" ref="byDocDBType"/>
    </filters>
  </queue>
  <queue name="Последние сохраненные" id="LastModifiedWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.MyDocument)
      && #this.getDocument() != null && (#this.getDocument().getTypeDocument().equals('RKK') || #this.getDocument().getTypeDocument().equals('CONTRACT') || #this.getDocument().getTypeDocument().equals('CONTRACT_') || #this.getDocument().getTypeDocument().equals('RESOLUTION') && (#this.getDocument().getParentUnid() == null || #this.getDocument().getParentUnid().isEmpty()))
      && !isDeleted() && !isInTrash() && !#this.getDocument().isDeleted() && isModified()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byDocumentStatus"/>
      <filter-ref ref="byDocType"/>
      <filter-ref applicable="true" ref="byDocDBType"/>
    </filters>
  </queue>
  <queue name="Все входящие задачи" id="InputTaskAll">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection()
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash()]]></script>
    </task-filter>
  </queue>
  <queue name="Все исходящие задачи" id="OutputTaskAll">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection()
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus()]]></script>
    </task-filter>
  </queue>
  <queue name="Все уведомления" id="NoticeAll">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonNotice)
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getDocument() != null
&& ( !getDocument().isDeleted()
|| getEventInfo().getEventCode().getEventCodeId().equals("CSDK1_24"))]]></script>
    </task-filter>
  </queue>
  <queue name="Входящие в работе" id="inWork">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection()
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE)]]></script>
    </task-filter>
  </queue>
  <queue name="Входящие неисполненные" id="incompletedTaskInput">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection()
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& (getEventInfo().getProcessStatus() != T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).COMPLETED)]]></script>
    </task-filter>
  </queue>
  <queue name="Жду исполнения" stacks="true" id="waitExec">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && (getEventInfo().getEventCode().getEventCodeId().equals("ADDR1_11") || getEventInfo().getEventCode().getEventCodeId().equals("EXEC1_11") || getEventInfo().getEventCode().getEventCodeId().equals("SEND1_21")) &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).DONE) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byDate"/>
    </sorts>
  </queue>
  <queue name="Жду согласования" stacks="true" id="waitApproving">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("VISA1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).DONE) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byLabel"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref applicable="true" ref="byDBType"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byDate"/>
    </sorts>
  </queue>
  <queue name="Задачи в корзине" id="TasksDeletedWithoutSearch">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) 
&& !isDeleted() && !getEventInfo().isDeleted() && (getEventInfo().isInTrash() || isInTrash())
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& T(com.google.common.collect.Sets).newHashSet("EXEC1_11","ADDR1_11", "SIGN1_11", "VISA1_11").contains(getEventInfo().getEventCode().getEventCodeId()) 
&& getEventInfo().getDocument() != null]]></script>
    </task-filter>
  </queue>
  <queue name="На исполнение" id="onExec">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() &&  (getEventInfo().getEventCode().getEventCodeId().equals("EXEC1_11") || getEventInfo().getEventCode().getEventCodeId().equals("SEND1_21") && getEventInfo().getDocument() != null && (getEventInfo().getDocument().getTypeDatabase().startsWith('Tasks') || !getEventInfo().getDocument().getParentUnid().equals(getEventInfo().getDocument().getRootUnid()))) &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="На контроль" id="onControl">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask)
 && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() 
 && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
 && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus()
 && getEventInfo().getEventCode().getEventCodeId().equals("CTRL1_11")
 &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="На ознакомление" id="onReview">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask)
 && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() 
 && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
 && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus()
 && getEventInfo().getEventCode().getEventCodeId().equals("EXEC3_11") && (getEventInfo().getTaskStatus() == null || !getEventInfo().getTaskStatus().name().equals('REFUSED'))
 &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="На подпись" id="forSign">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("SIGN1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
    </sorts>
  </queue>
  <queue name="На рассмотрение" id="forCondsid">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && (getEventInfo().getEventCode().getEventCodeId().equals("ADDR1_11") || getEventInfo().getEventCode().getEventCodeId().equals("SEND1_21") && getEventInfo().getDocument() != null && (!getEventInfo().getDocument().getTypeDatabase().startsWith('Tasks') && !getEventInfo().getDocument().getTypeDatabase().startsWith('Tasks') && getEventInfo().getDocument().getParentUnid() != null && !getEventInfo().getDocument().getParentUnid().isEmpty() && getEventInfo().getDocument().getParentUnid().equals(getEventInfo().getDocument().getRootUnid()))) &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="Отчеты" id="reportReviewWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("EXEC3_11") && (getEventInfo().getTaskStatus() == null || !getEventInfo().getTaskStatus().name().equals('REFUSED')) && !T(ru.intertrust.cmj.pkd.tools.TaskInQueueInclusionUtils).isAllReportTasksCompleted(#this) && !T(ru.intertrust.cmj.pkd.tools.TaskInQueueInclusionUtils).isAllReportTasksDeferred(#this)]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
    </sorts>
  </queue>
  <queue name="На согласование" id="onApprov">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("VISA1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
      <filter-ref ref="onlyNew"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="На утверждение" id="onConfirmation">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask)
 && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() 
 && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
 && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus()
 && getEventInfo().getEventCode().getEventCodeId().equals("APDC1_11")
 &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
    <sorts>
      <sort-ref applicable="true" ref="byCreatedDate"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="Непрочтенные уведомления" id="NoticesNotReadWithoutSearch">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonNotice)
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getDocument() != null
&& ( !getDocument().isDeleted()
|| getEventInfo().getEventCode().getEventCodeId().equals("CSDK1_24"))
&& getPrivateStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_READ]]></script>
    </task-filter>
  </queue>
  <queue name="Отложенные" stacks="true" id="deferred">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && isDeferred() && ((getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).DONE) && isDeferred() && !getEventInfo().getEventCode().getEventCodeId().equals("EXEC3_11") || getEventInfo().getEventCode().getEventCodeId().equals("EXEC3_11") && (getEventInfo().getTaskStatus() == null || !getEventInfo().getTaskStatus().name().equals('REFUSED')) && T(ru.intertrust.cmj.pkd.tools.TaskInQueueInclusionUtils).isAllReportTasksDeferred(#this))]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byPerson"/>
      <filter-ref ref="byDocType"/>
      <filter-ref ref="byTask"/>
      <filter-ref ref="onControl"/>
      <filter-ref ref="byDate"/>
      <filter-ref ref="byAddressee"/>
      <filter-ref ref="arbitFilter"/>
      <filter-ref ref="byLabel"/>
      <filter-ref applicable="true" ref="byDBType"/>
    </filters>
    <sorts>
      <sort-ref applicable="true" ref="byCreationDateAsc"/>
      <sort-ref ref="byDate"/>
    </sorts>
  </queue>
  <queue name="Отправленные в работе" id="outputInWork">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT == #this.getEventDirection()
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE)]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные на исполнение" id="outputOnExec">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("EXEC1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные на контроль" id="outputOnControl">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) 
&& T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection() 
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getEventInfo().getEventCode().getEventCodeId().equals("CTRL1_11") 
&&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные на ознакомление" id="outputOnReview">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) 
&& T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection() 
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getEventInfo().getEventCode().getEventCodeId().equals("FMLR1_11") 
&&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные на подпись" id="outputOnSign">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("SIGN1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные на рассмотрение" id="outputOnConsid">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT == #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("ADDR1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные на согласование" id="outputOnApprov">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection() && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() && getEventInfo().getEventCode().getEventCodeId().equals("VISA1_11") &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные на утверждение" id="outputOnConfirm">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) 
&& T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection() 
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getEventInfo().getEventCode().getEventCodeId().equals("APDC1_11") 
&&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленные неисполненные" id="incompletedTaskOutput">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT == #this.getEventDirection()
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& (getEventInfo().getProcessStatus() != T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).COMPLETED)]]></script>
    </task-filter>
  </queue>
  <queue name="Отправленный отчёт" id="outputReport">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask) 
&& T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).OUTPUT== #this.getEventDirection() 
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getEventInfo().getEventCode().getEventCodeId().equals("EXEC3_11") && (getEventInfo().getTaskStatus() == null || !getEventInfo().getTaskStatus().name().equals('REFUSED'))
&&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Отчёт" id="onReport">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonTask)
 && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() 
 && !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
 && T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus()
 && getEventInfo().getEventCode().getEventCodeId().equals("EXEC3_11") && (getEventInfo().getTaskStatus() == null || !getEventInfo().getTaskStatus().name().equals('REFUSED'))
 &&  (getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).NOT_DONE || getEventInfo().getProcessStatus() == T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).RETURNED) && !isDeferred()]]></script>
    </task-filter>
  </queue>
  <queue name="Уведомления в корзине" id="NoticesDeletedWithoutSearch">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonNotice) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() 
&& !isDeleted() && !getEventInfo().isDeleted() && (getEventInfo().isInTrash() || isInTrash())
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getDocument() != null
&& ( !getDocument().isDeleted()
|| getEventInfo().getEventCode().getEventCodeId().equals("CSDK1_24"))]]></script>
    </task-filter>
  </queue>
  <queue name="Шапка оповещений" id="HeaderNotices">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.pkd.domain.events.PersonNotice) && T(ru.intertrust.cmj.pkd.domain.events.EventEntity.Direction).INPUT == #this.getEventDirection() 
&& !isDeleted() && !isInTrash() && !getEventInfo().isDeleted() && !getEventInfo().isInTrash() 
&& T(ru.intertrust.cmj.pkd.domain.PkdEntity.EventStatus).IN_ARCHIVE != getEventInfo().getArchiveStatus() 
&& getDocument() != null
&& ( !getDocument().isDeleted()
|| getEventInfo().getEventCode().getEventCodeId().equals("CSDK1_24"))]]></script>
    </task-filter>
  </queue>
  <queue name="Сохраненные запросы" id="SavedQueriesWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.af.search.SavedQuery) && #this.getSearchType() != null && #this.getSearchType() == 2 && !#this.isDeleted()]]></script>
    </task-filter>
  </queue>
  <queue name="Последние запросы" id="LastQueriesWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.af.search.impl.FTSearchQuerySaveObject)]]></script>
    </task-filter>
  </queue>
  <queue name="Избранные документы" id="FavouritesWD">
    <task-filter>
      <script lang="SPEL"><![CDATA[#this instanceof T(ru.intertrust.cmj.af.favourites.FVObjectRef) && !#this.isDeleted()]]></script>
    </task-filter>
    <filters>
      <filter-ref ref="byDocumentStatus"/>
      <filter-ref ref="byDocType"/>
    </filters>
  </queue>
</pkd>