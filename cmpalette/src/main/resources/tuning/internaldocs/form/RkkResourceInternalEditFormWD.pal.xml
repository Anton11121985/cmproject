<?xml version='1.0' encoding='UTF-8'?>
<ui xmlns="http://www.intertrust.ru/schema/palette/tn-ui">
    <form schema-ref="RkkResourceInternal" projection="WebDocs2.0" id="RkkResourceInternalEditFormWD">
        <properties>
            <hide condition-union="AND">
                <negative-condition-ref ref="edit"/>
            </hide>
        </properties>
        <appearance flex-grow="1" overflow="hidden"/>
        <component>
            <section id="desktopForm">
                <properties>
                    <hide condition-union="AND">
                        <condition-ref ref="isMobilePlatform"/>
                    </hide>
                </properties>
                <appearance flex-grow="1" flex-direction="column" overflow="hidden"/>
                <component>
                    <section id = "baseContainer">
                        <appearance flex-grow="1" flex-direction="column"  overflow="auto">
                            <padding right="40px" left="40px"/>
                        </appearance>
                        <component>
                            <section id="Header">
                                <appearance field-layout="vertical"/>
                                <component>
                                    <!-- Тип документа в шапке-->
                                    <field attribute-ref="showIdentFull">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Header.field.showIdentFull.hintPopUp:Внутренний документ}</hint-in-field>
                                        <appearance align="center" importance="normal">
                                            <label-style>
                                                <style id="h2"/>
                                            </label-style>
                                            <field-style>
                                                <value-style>
                                                    <style id="h2"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                    <!-- Справка -->
                                    <field attribute-ref="wdHelpLabel">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance importance="normal" align="left">
                                            <margin right="10px" bottom="16px"/>
                                            <label-style>
                                                <style id="p4__extra-light"/>
                                                <style id="steel"/>
                                            </label-style>
                                            <field-style>
                                                <value-style>
                                                    <style id="p4__light"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                            <section id="Main">
                                <appearance field-layout="vertical">
                                    <margin bottom="15px"/>
                                </appearance>
                                <component>
                                    <!-- Проектный номер -->
                                    <field attribute-ref="wdProjectNumber">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_HasProjectNumber"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="normal" align="left">
                                            <margin bottom="8px"/>
                                        </appearance>
                                    </field>
                                    <!-- Заголовок -->
                                    <field attribute-ref="title">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <appearance importance="normal" align="left" multiline="true">
                                            <margin bottom="16px"/>
                                            <limit height="2" />
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.title.hintInField:Введите заголовок документа}</hint-in-field>
                                    </field>
                                    <!-- Дата документа -->
                                    <field attribute-ref="registration.date" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.registration.date.name:Дата документа}">
                                        <appearance importance="normal" align="left">
                                            <label-style label-position="top">
                                                <label-style id="p3"/>
                                            </label-style>
                                            <margin bottom="16px"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.registration.date.hintInField:Дата}</hint-in-field>
                                    </field>
                                    <section id="TypeWithCategorySection">
                                        <appearance field-layout="vertical">
                                            <margin bottom="16px"/>
                                        </appearance>
                                        <component>
                                            <!-- Вид документа -->
                                            <field attribute-ref="type" store-last-selected-value="true">
                                                <properties>
                                                    <require condition-union="AND">
                                                        <condition>true</condition>
                                                    </require>
                                                </properties>
                                                <appearance importance="normal" align="left">
                                                    <label-style label-position="top"/>
                                                    <margin bottom="8px"/>
                                                </appearance>
                                                <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.type.hintInField:Вид документа}</hint-in-field>
                                                <directories limit-livesearch="sys-current">
                                                    <directory-ref ref="kvid_InternalDocs"/>
                                                </directories>
                                            </field>
                                            <!-- Тематика -->
                                            <field attribute-ref="category">
                                                <appearance importance="normal" align="left">
                                                    <label-style label-position="top"/>
                                                    <margin bottom="7px"/>
                                                </appearance>
                                                <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.category.hintInField:Тематика}</hint-in-field>
                                                <directories limit-livesearch="sys-current">
                                                    <directory-ref ref="theme"/>
                                                </directories>
                                            </field>
                                        </component>
                                    </section>
                                    <!-- Подпись -->
                                    <field recalc="true" attribute-ref="signature.signer" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.signer.name:Подпись}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                            <hide condition-union="AND">
                                                <condition-ref ref="RkkResource_HasMultipleSigners"/>
                                            </hide>
                                        </properties>
                                        <appearance widget="personSelector">
                                            <label-style label-position="top">
                                                <label-style id="p3"/>
                                            </label-style>
                                            <margin bottom="8px"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.section.Main.field.signer.hintPopUp:Подпись}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                        </directories>
                                    </field>
                                    <field recalc="true" attribute-ref="signers" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.signer.name:Подпись}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_HasMultipleSigners"/>
                                            </hide>
                                        </properties>
                                        <appearance widget="personSelector">
                                            <label-style label-position="top">
                                                <label-style id="p3"/>
                                            </label-style>
                                            <margin bottom="8px"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.section.Main.field.signer.hintPopUp:Подпись}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                        </directories>
                                    </field>
                                    <!-- Выполнить лично -->
                                    <field attribute-ref="isPersonal" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.isPersonal.name:Выполнить лично}">
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_EnablePersonal"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="normal">
                                            <label-style label-position="right"/>
                                            <margin bottom="16px"/>
                                        </appearance>
                                    </field>
                                    <!-- Адресаты -->
                                    <field attribute-ref="addressee" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.addressee.name:Адресаты}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <appearance importance="normal" widget="personSelector">
                                            <label-style label-position="top">
                                                <label-style id="p3"/>
                                            </label-style>
                                            <margin bottom="16px"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.addressee.hintPopUp:Адресаты}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_All"/>
                                            <directory-ref ref="sys_roles"/>
                                        </directories>
                                    </field>
                                    <!-- Исполнители -->
                                    <field attribute-ref="executor" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.executor.name:Подготовили}">
                                        <appearance importance="normal" widget="personSelector">
                                            <label-style label-position="top">
                                                <label-style id="p3"/>
                                            </label-style>
                                            <margin bottom="16px"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.executor.hintPopUp:Подготовили}</hint-in-field>
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                            <directory-ref ref="sys_roles"/>
                                        </directories>
                                    </field>
                                </component>
                            </section>
                            <section id="Content" name="${ui.form.RkkResourceInternalEditFormWD.section.Content.name:Содержание}">
                                <appearance field-layout="vertical" align="left">
                                    <label-style position="top">
                                        <label-style id="bold"/>
                                        <label-style id="p3"/>
                                        <label-style id="color-black"/>
                                    </label-style>
                                    <margin bottom="16px"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="richtext" name="${ui.form.RkkResourceInternalEditFormWD.section.Content.field.richtext.name:Текст}">
                                        <appearance widget="RichTextEditor">
                                            <label-style label-position="top"/>
                                            <margin bottom="16px"/>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="content" name="${ui.form.RkkResourceInternalEditFormWD.section.Content.field.content.name:Файлы}">
                                        <appearance widget="fileLoader">
                                            <label-style label-position="top"/>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                            <section id="Additional" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.name:Дополнительно}">
                                <appearance field-layout="vertical">
                                    <label-style position="top">
                                        <style id="bold"/>
                                        <style id="color-black"/>
                                        <label-style id="p3__bold"/>
                                        <label-style id="color-black"/>
                                    </label-style>
                                </appearance>
                                <component>
                                    <!-- Комментарий -->
                                    <field attribute-ref="comment" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.comment.name:Комментарий}">
                                        <appearance importance="normal" align="left" multiline="true">
                                            <label-style label-position="top">
                                                <label-style id="p3"/>
                                            </label-style>
                                            <margin bottom="16px"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.comment.hintInField:Комментарий}</hint-in-field>
                                    </field>
                                    <!-- Место регистрации -->
                                    <field attribute-ref="registration.place" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.registration.place.name:Место регистрации}">
                                        <appearance importance="normal" widget="personSelector">
                                            <label-style label-position="top">
                                                <label-style id="p3"/>
                                            </label-style>
                                            <margin bottom="16px"/>
                                        </appearance>
                                        <properties>
                                            <require>
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.field.registration.place.hintPopUp:Место регистрации}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current" relation-in-resource="all.regplaces.collection.search">
                                            <directory-category-custom-coll ref="all-regplaces-collection"/>
                                        </directories>
                                    </field>
                                    <!-- Количество листов, экземплялов, приложений и т.п.-->
                                    <section id="Specification">
                                        <appearance field-layout="horizontal" flex-grow="1" flex-direction="row">
                                            <margin bottom="16px"/>
                                        </appearance>
                                        <component>
                                            <field attribute-ref="pages" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.pages.name:Листов}">
                                                <appearance importance="normal">
                                                    <label-style label-position="top">
                                                        <label-style id="p3"/>
                                                    </label-style>
                                                    <margin right="8px"/>
                                                </appearance>
                                                <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.pages.hintPopUp:Листов}</hint-in-field>
                                            </field>
                                            <field attribute-ref="copies" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.copies.name:Экземпляров}">
                                                <appearance importance="normal">
                                                    <label-style label-position="top">
                                                        <label-style id="p3"/>
                                                    </label-style>
                                                    <margin right="8px"/>
                                                </appearance>
                                                <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.copies.hintPopUp:Экземпляров}</hint-in-field>
                                            </field>
                                            <field attribute-ref="appendices" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.copies.name:Приложений}">
                                                <appearance importance="normal">
                                                    <label-style label-position="top">
                                                        <label-style id="p3"/>
                                                    </label-style>
                                                    <margin right="8px"/>
                                                </appearance>
                                                <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.appendices.hintPopUp:Приложений}</hint-in-field>
                                            </field>
                                            <field attribute-ref="appendicesPages" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.appendicesPages.name:Листов приложений}">
                                                <appearance importance="normal">
                                                    <label-style label-position="top">
                                                        <label-style id="p3"/>
                                                    </label-style>
                                                </appearance>
                                                <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.Specification.field.appendicesPages.hintPopUp:Листов приложений}</hint-in-field>
                                            </field>
                                        </component>
                                    </section>
                                    <!-- Отправить на регистрацию после подписания -->
                                    <field attribute-ref="sendToRegisterAfterSigned" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.sendToRegisterAfterSigned.name:Отправить на регистрацию после подписания}">
                                        <appearance importance="normal">
                                            <label-style label-position="right"/>
                                        </appearance>
                                    </field>
                                    <!-- Ограничить доступ по связям -->
                                    <field attribute-ref="disableLinkAccess" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.disableLinkAccess.name:Ограничить доступ по связям}">
                                        <appearance importance="normal">
                                            <label-style label-position="right"/>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <section id="errorsContainer">
                        <appearance widget="errorsContainer">
                            <margin top="25px"/>
                            <padding right="40px" left="40px"/>
                        </appearance>
                    </section>
                    <section id="actionBar">
                        <appearance widget="actionBar">
                            <padding right="40px" left="40px"/>
                        </appearance>
                        <component>
                            <button alias="cancelButton" name="${ui.form.RkkResourceInternalEditFormWD.section.actionBar.button.cancelButton.name:Отменить}" type="white">
                                <appearance align="left" primary="true">
                                    <margin right="8px"/>
                                </appearance>
                                <action>
                                    <system name="cancel"/>
                                </action>
                            </button>
                            <section id="spaceContainer">
                                <appearance flex-grow="1"/>
                            </section>
                            <button alias="saveButton" name="${ui.form.RkkResourceInternalEditFormWD.section.actionBar.button.saveButton.name:Сохранить}" type="primary">
                                <appearance align="right" primary="true">
                                    <margin right="8px"/>
                                </appearance>
                                <action>
                                    <system name="save"/>
                                </action>
                            </button>
                            <button alias="canSendToApproving" name="${ui.form.RkkResourceInternalEditFormWD.section.actionBar.button.saveButton.name:На согласование}" type="primary">
                                <appearance align="right" primary="true">
                                    <margin right="8px"/>
                                </appearance>
                                <properties>
                                    <disabled condition-union="AND">
                                        <negative-condition-ref ref="CanSendToApprovingWD"/>
                                    </disabled>
                                </properties>
                                <action>
                                    <system name="approvingStart"/>
                                </action>
                            </button>
                            <button alias="canSendToSign" name="${ui.form.RkkResourceInternalEditFormWD.section.actionBar.button.canSendToSign.name:На подпись}" type="primary">
                                <appearance align="right" primary="true"/>
                                <properties>
                                    <disabled condition-union="AND">
                                        <negative-condition-ref ref="canSeeTypeButtonSendForSignature"/>
                                    </disabled>
                                </properties>
                                <action>
                                    <system name="signSent"/>
                                </action>
                            </button>
                        </component>
                    </section>
                </component>
            </section>
            <section id="mobileForm">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="isMobilePlatform"/>
                    </hide>
                </properties>
                <appearance widget="container" flex-direction="column" flex-grow="1" overflow="hidden"/>
                <component>
                    <!-- Шапка документа (begin) -->
                    <section id="MobileHeader" name="${ui.form.RkkResourceInternalEditFormWD.section.MobileHeader.name: Шапка документа}">
                        <appearance widget="mobile-header">
                            <margin bottom="10px"/>
                        </appearance>
                    </section>
                    <section id = "baseContainer">
                        <appearance flex-grow="1" flex-direction="column" overflow="auto"/>
                        <component>
                            <section id="Header">
                                <appearance field-layout="vertical">
                                    <padding left="10px" right="10px"/>
                                    <margin bottom="10px"/>
                                </appearance>
                                <component>
                                    <!-- Справка -->
                                    <field attribute-ref="wdHelpLabel">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance importance="normal" align="left">
                                            <margin right="10px"/>
                                            <label-style>
                                                <style id="p4__extra-light"/>
                                                <style id="steel"/>
                                            </label-style>
                                            <field-style>
                                                <value-style>
                                                    <style id="p4__light"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                            <section id="Main">
                                <appearance field-layout="vertical"/>
                                <component>
                                    <!-- Проектный номер -->
                                    <field attribute-ref="wdProjectNumber" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.wdProjectNumber.name:Номер проекта}">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_HasProjectNumber"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="normal" align="left"/>
                                    </field>
                                    <!-- Заголовок -->
                                    <field attribute-ref="title" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.title.name:Заголовок}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <appearance importance="normal" align="left" multiline="true" open-mode="edit" open-form="modal">
                                            <limit height="2" />
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.title.hintInField:Введите заголовок документа}</hint-in-field>
                                    </field>
                                    <!-- Дата документа -->
                                    <field attribute-ref="registration.date" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.registration.date.name:Дата}">
                                        <appearance importance="normal" align="left" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.registration.date.hintInField:Дата}</hint-in-field>
                                    </field>
                                    <!-- Вид документа -->
                                    <field attribute-ref="type" store-last-selected-value="true" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.type.name:Вид документа}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <appearance importance="normal" align="left" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.type.hintInField:Вид документа}</hint-in-field>
                                        <directories limit-livesearch="sys-current">
                                            <directory-ref ref="kvid_InternalDocs"/>
                                        </directories>
                                    </field>
                                    <!-- Тематика -->
                                    <field attribute-ref="category" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.category.name:Тематика}">
                                        <appearance importance="normal" align="left" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.category.hintInField:Тематика}</hint-in-field>
                                        <directories limit-livesearch="sys-current">
                                            <directory-ref ref="theme"/>
                                        </directories>
                                    </field>
                                    <!-- Подпись -->
                                    <field recalc="true" attribute-ref="signature.signer" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.signer.name:Подпись}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                            <hide condition-union="AND">
                                                <condition-ref ref="RkkResource_HasMultipleSigners"/>
                                            </hide>
                                        </properties>
                                        <appearance widget="personSelector" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.section.Main.field.signer.hintPopUp:Подпись}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                        </directories>
                                    </field>
                                    <field recalc="true" attribute-ref="signers" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.signer.name:Подпись}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_HasMultipleSigners"/>
                                            </hide>
                                        </properties>
                                        <appearance widget="personSelector" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.section.Main.field.signer.hintPopUp:Подпись}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                        </directories>
                                    </field>
                                    <!-- Выполнить лично -->
                                    <field attribute-ref="isPersonal" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.isPersonal.name:Выполнить лично}">
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_EnablePersonal"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="normal">
                                            <label-style label-position="right"/>
                                            <padding right="10px" left="10px"/>
                                            <margin bottom="10px" top="10px"/>
                                        </appearance>
                                    </field>
                                    <!-- Адресаты -->
                                    <field attribute-ref="addressee" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.addressee.name:Адресаты}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <appearance importance="normal" widget="personSelector" open-mode="edit" open-form="modal">
                                            <label-style label-position="top"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.addressee.hintPopUp:Адресаты}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_All"/>
                                            <directory-ref ref="sys_roles"/>
                                        </directories>
                                    </field>
                                    <!-- Подготовили -->
                                    <field attribute-ref="executor" name="${ui.form.RkkResourceInternalEditFormWD.section.Main.field.executor.name:Подготовили}">
                                        <appearance importance="normal" widget="personSelector" open-mode="edit" open-form="modal">
                                            <label-style label-position="top"/>
                                        </appearance>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Main.field.executor.hintPopUp:Подготовили}</hint-in-field>
                                        <properties>
                                            <require condition-union="AND">
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <directories livesearch="true" limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                        </directories>
                                    </field>
                                </component>
                            </section>
                            <section id="Content" name="${ui.form.RkkResourceInternalEditFormWD.section.Content.name:Содержание}">
                                <appearance field-layout="vertical" align="left">
                                    <label-style position="top">
                                        <style id="bold"/>
                                        <style id="color-black"/>
                                        <label-style id="color-black"/>
                                        <label-style id="p3__bold"/>
                                    </label-style>
                                    <margin top="30px"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="richtext" name="${ui.form.RkkResourceInternalEditFormWD.section.Content.field.richtext.name:Текст}">
                                        <appearance widget="RichTextEditor" open-mode="edit" open-form="modal">
                                            <label-style label-position="top"/>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="content" name="${ui.form.RkkResourceInternalEditFormWD.section.Content.field.content.name:Файлы}">
                                        <appearance widget="fileLoader" open-mode="edit" open-form="modal">
                                            <label-style label-position="top"/>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                            <section id="Additional" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.name:Дополнительно}">
                                <appearance field-layout="vertical">
                                    <label-style position="top">
                                        <style id="bold"/>
                                        <style id="color-black"/>
                                        <label-style id="p3__bold"/>
                                        <label-style id="color-black"/>
                                    </label-style>
                                    <margin top="30px"/>
                                    <padding bottom="10px"/>
                                </appearance>
                                <component>
                                    <!-- Комментарий -->
                                    <field attribute-ref="comment" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.comment.name:Комментарий}">
                                        <appearance importance="normal" align="left" multiline="true" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.comment.hintInField:Комментарий}</hint-in-field>
                                    </field>
                                    <!-- Место регистрации -->
                                    <field attribute-ref="registration.place" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.registration.place.name:Место регистрации}">
                                        <appearance importance="normal" widget="personSelector" open-mode="edit" open-form="modal"/>
                                        <properties>
                                            <require>
                                                <condition>true</condition>
                                            </require>
                                        </properties>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.field.registration.place.hintPopUp:Место регистрации}</hint-in-field>
                                        <directories livesearch="true" limit-livesearch="sys-current" relation-in-resource="all.regplaces.collection.search">
                                            <directory-category-custom-coll ref="all-regplaces-collection"/>
                                        </directories>
                                    </field>
                                    <!-- Количество листов, экземплялов, приложений и т.п.-->
                                    <field attribute-ref="pages" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.pages.name:Листов}">
                                        <appearance importance="normal" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.pages.hintPopUp:Листов}</hint-in-field>
                                    </field>
                                    <field attribute-ref="copies" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.copies.name:Экземпляров}">
                                        <appearance importance="normal" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.copies.hintPopUp:Экземпляров}</hint-in-field>
                                    </field>
                                    <field attribute-ref="appendices" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.appendices.name:Приложений}">
                                        <appearance importance="normal" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.appendices.hintPopUp:Приложений}</hint-in-field>
                                    </field>
                                    <field attribute-ref="appendicesPages" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.appendicesPages.name:Листов приложений}">
                                        <appearance importance="normal" open-mode="edit" open-form="modal"/>
                                        <hint-in-field>${ui.form.RkkResourceInternalEditFormWD.section.Additional.field.appendicesPages.hintPopUp:Листов приложений}</hint-in-field>
                                    </field>
                                    <!-- Отправить на регистрацию после подписания -->
                                    <field attribute-ref="sendToRegisterAfterSigned" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.sendToRegisterAfterSigned.name:Отправить на регистрацию после подписания}">
                                        <appearance importance="normal">
                                            <label-style label-position="right"/>
                                            <padding right="10px" left="10px"/>
                                            <margin bottom="10px" top="10px"/>
                                        </appearance>
                                    </field>
                                    <!-- Ограничить доступ по связям -->
                                    <field attribute-ref="disableLinkAccess" name="${ui.form.RkkResourceInternalEditFormWD.section.Additional.section.disableLinkAccess.name:Ограничить доступ по связям}">
                                        <appearance importance="normal">
                                            <label-style label-position="right"/>
                                            <padding right="10px" left="10px"/>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <section id="errorsContainer">
                        <appearance widget="errorsContainer"/>
                    </section>
                    <section id="actionBar">
                        <appearance widget="actionBar"/>
                        <component>
                            <button alias="saveButton" name="${ui.form.RkkResourceInternalEditFormWD.section.actionBar.button.saveButton.name:Сохранить}" type="primary">
                                <appearance align="left" primary="true"/>
                                <action>
                                    <system name="save"/>
                                </action>
                            </button>
                            <button alias="canSendToApproving" name="${ui.form.RkkResourceInternalEditFormWD.section.actionBar.button.saveButton.name:На согласование}" type="primary">
                                <appearance align="left">
                                    <margin right="8px"/>
                                </appearance>
                                <properties>
                                    <disabled condition-union="AND">
                                        <negative-condition-ref ref="CanSendToApprovingWD"/>
                                    </disabled>
                                </properties>
                                <action>
                                    <system name="approvingStart"/>
                                </action>
                            </button>
                            <button alias="canSendToSign" name="${ui.form.RkkResourceInternalEditFormWD.section.actionBar.button.canSendToSign.name:На подпись}" type="primary">
                                <appearance align="left"/>
                                <properties>
                                    <disabled condition-union="AND">
                                        <negative-condition-ref ref="canSeeTypeButtonSendForSignature"/>
                                    </disabled>
                                </properties>
                                <action>
                                    <system name="signSent"/>
                                </action>
                            </button>
                        </component>
                    </section>
                </component>
            </section>
        </component>
    </form>
</ui>