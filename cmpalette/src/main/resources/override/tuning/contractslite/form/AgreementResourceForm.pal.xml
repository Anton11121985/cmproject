<?xml version='1.0' encoding='UTF-8'?>
<ui xmlns="http://www.intertrust.ru/schema/palette/tn-ui">
    <form schema-ref="AgreementResource" id="AgreementResourceForm" projection="default" showtabs="true">
        <properties>
            <hide condition-union="AND">
                <negative-condition-ref ref="edit"/>
                <negative-condition-ref ref="read"/>
            </hide>
        </properties>
        <appearance widget="tabs"/>
        <component>
            <button name="${ui.form.AgreementResourceForm.button.Document.name:Документ по договору}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="read"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.Document.hintPopUp:Документ по договору}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#create-document"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.CopyAsNew.name:Новый как копия}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="read"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.CopyAsNew.hintPopUp:Новый как копия}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#copy"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.LinksDoc.name:Связанный документ}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="read"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.LinksDoc.hintPopUp:Связанный документ}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#create.linked.document"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.SaveAndFillFiles.name:Сохранить и заполнить файл(ы)}">
                <properties>
                    <hide condition-union="AND">
                        <condition>true</condition>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.SaveAndFillFiles.hintPopUp:Сохранить и заполнить файл(ы)}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#save.and.fill.files"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.FinanceDocument.name:Финансовый документ}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="read"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.FinanceDocument.hintPopUp:Финансовый документ}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#create-finance"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.InTrash.name:В корзину}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanTrash"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.InTrash.hintPopUp:В корзину}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#move.to.trash"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.Restore.name:Восстановить}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanRestore"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.Restore.hintPopUp:Восстановить}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#restore.from.trash"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.ToExec.name:На исполнение}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="AddAgr_CanCreateResolution"/>
                    </hide>
                </properties>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#create-resolution"/>
                </action>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.ToExec.hintPopUp:На исполнение}</hint-pop-up>
            </button>
            <button attribute-ref="$canSendToSign" name="${ui.form.AgreementResourceForm.button.ToSign.name:На подписание}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="AddAgr_canSeeTypeButtonSendForSignature"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.ToSign.hintPopUp:На подписание}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#sign.sent"/>
                </action>
            </button>
            <button attribute-ref="$canSendToRegister" name="${ui.form.AgreementResourceForm.button.ToRegister.name:На регистрацию}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="canSendToReg"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.ToRegister.hintPopUp:На регистрацию}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#register.sent"/>
                </action>
            </button>
            <button attribute-ref="$canSendToApproving" name="${ui.form.AgreementResourceForm.button.ToApproving.name:На согласование}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="AddAgr_CanSendToApproving"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.ToApproving.hintPopUp:На согласование}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#approving.start"/>
                </action>
            </button>
            <button attribute-ref="$canSendToApproveIssueFixing" name="${ui.form.AgreementResourceForm.button.ToApproveIssueFixing.name:На снятие замечаний}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanSendToApproveIssueFixing"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.ToApproveIssueFixing.hintPopUp:На снятие замечаний}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#approving.issue-fixing.start"/>
                </action>
            </button>
            <button attribute-ref="$canRejectSign" name="${ui.form.AgreementResourceForm.button.RejectSign.name:Отказать в подписании}">
                <properties>
                    <hide condition-union="AND">
                        <condition>true</condition>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.RejectSign.hintPopUp:Отказать в подписании}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#sign.reject"/>
                </action>
            </button>
            <button attribute-ref="$canRejectRegister" name="${ui.form.AgreementResourceForm.button.RejectRegister.name:Отказать в регистрации}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanRejectRegister"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.RejectRegister.hintPopUp:Отказать в регистрации}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#register.reject"/>
                </action>
            </button>
            <button attribute-ref="$canSendToReview" name="${ui.form.AgreementResourceForm.button.ToReview.toSendList.name:По списку рассылки}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="AddAgr_CanSendToReview"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.ToReview.toSendList.hintPopUp:По списку рассылки}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#review.start.sendlist"/>
                </action>
            </button>
            <button name="${ui.form.FinanceResourceForm.button.UnSign.name:Отменить подпись}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanUnsignLocker"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.FinanceResourceForm.button.UnSign.hintPopUp:Отменить подпись}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#sign.locker.cancel"/>
                </action>
            </button>
            <button attribute-ref="$canSign" name="${ui.form.AgreementResourceForm.button.Sign.name:Подписать}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanSignLocker"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.Sign.hintPopUp:Подписать}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#sign.locker.sign"/>
                </action>
            </button>
            <button attribute-ref="$canSign" name="${ui.form.AgreementResourceForm.button.Sign.name:Подписать}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanSign"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.Sign.hintPopUp:Подписать}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#sign"/>
                </action>
            </button>
            <button attribute-ref="$canSendToReview" name="${ui.form.AgreementResourceForm.button.ToReview.name:Произвольное}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="AddAgr_CanSendToReview"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.ToReview.hintPopUp:Произвольное}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#review.start"/>
                </action>
            </button>
            <button attribute-ref="$canRegister" name="${ui.form.AgreementResourceForm.button.Register.name:Регистрация}">
                <icon code="31"/>
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanRegister"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.Register.hintPopUp:Регистрация}</hint-pop-up>
                <action>
                    <system name="http://intertrust.ru/cmj/relations#register"/>
                </action>
            </button>
            <button name="${ui.form.AgreementResourceForm.button.Delete.name:Удалить}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="CanDelete"/>
                    </hide>
                </properties>
                <hint-pop-up>${ui.form.AgreementResourceForm.button.Delete.hintPopUp:Удалить}</hint-pop-up>
                <action>
                    <system name="delete"/>
                </action>
            </button>
            <section id="Header">
                <component>
                    <section id="headerLine1" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="docTypeColumn" group="true" >
                                <component>
                                    <field attribute-ref="showIdent">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance>
                                            <alt-appearancies>
                                                <alt-appearance>
                                                    <appearance-ref ref="css_headerElementWithIcon"/>
                                                    <enable condition-union="AND">
                                                        <condition>true</condition>
                                                    </enable>
                                                </alt-appearance>
                                            </alt-appearancies>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                            <section id="accessColumn" group="true">
                                <properties>
                                    <hide condition-union="AND">
                                        <condition-ref ref="securityStampIsEmptyContractFin"/>
                                        <condition-ref ref="read"/>
                                    </hide>
                                </properties>
                                <appearance style="tunBold" field-layout="horizontal">
                                    <alt-appearancies>
                                        <alt-appearance>
                                            <appearance-ref ref="horizontalSection"/>
                                            <enable condition-union="AND">
                                                <condition>true</condition>
                                            </enable>
                                        </alt-appearance>
                                    </alt-appearancies>
                                </appearance>
                                <component>
                                    <field attribute-ref="securityStampText" recalc="true" autofill="true" name="${ui.form.FinanceResourceForm.field.securityStampText.name:Гриф доступа:}">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="ShowSecurityStampFieldContractFin"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" align="right">
                                            <label-style field-unit="symbol" field-width="15">
                                                <style id="tunBlack"/>
                                            </label-style>
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBlack"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.FinanceResourceForm.section.Header.section.row15.field.securityStampText.hintPopUp:Гриф ограничения доступа к документу}</hint-pop-up>
                                    </field>
                                    <button alias="editGrif">
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="EditSecurityStampFieldYesContractFin"/>
                                                <negative-condition-ref ref="edit"/>
                                            </hide>
                                        </properties>
                                        <hint-pop-up>${ui.form.FinanceResourceForm.section.Header.section.row15.button.editGrif.hintPopUp:Задать гриф}</hint-pop-up>
                                        <appearance align="center">
                                            <label-style unit="symbol" width="1">
                                                <style id="tunIconEdit"/>
                                                <style id="tunClickableUnderline"/>
                                            </label-style>
                                        </appearance>
                                        <action>
                                            <custom>
                                                <change-subobject schema-ref="RkkGrifEdit"/>
                                            </custom>
                                        </action>
                                    </button>
                                    <button alias="deleteGrif">
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="EditSecurityStampFieldNoContractFin"/>
                                                <negative-condition-ref ref="edit"/>
                                            </hide>
                                        </properties>
                                        <hint-pop-up>${ui.form.FinanceResourceForm.section.Header.section.row15.button.deleteGrif.hintPopUp:Снять гриф}</hint-pop-up>
                                        <appearance align="center">
                                            <label-style unit="symbol" width="1">
                                                <style id="tunIconDelete"/>
                                                <style id="tunClickableUnderline"/>
                                            </label-style>
                                        </appearance>
                                        <action>
                                            <custom>
                                                <change-subobject schema-ref="ReasonWithdrawalOfGrifResource"/>
                                            </custom>
                                        </action>
                                    </button>
                                    <field attribute-ref="docReasonWithdrawal" autofill="true" name="${ui.form.FinanceResourceForm.section.Header.section.row15.field.docReasonWithdrawal.name:Док. основания:}">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="docReasonWithdrawalIsViewContractFin"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" align="right">
                                            <label-style field-width="25"/>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="PaperDocNumbers" name="${ui.form.FinanceResourceForm.section.Header.section.row15.field.PaperDocNumbers.name:№ экз:}">
                                        <properties>
                                            <hide condition-union="AND">
                                                <condition>true</condition>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" align="right">
                                            <label-style field-unit="symbol" field-width="15">
                                                <style id="tunBlack"/>
                                            </label-style>
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBlack"/>
                                                </value-style>
                                            </field-style>
                                            <alt-appearancies>
                                                <alt-appearance>
                                                    <appearance-ref ref="css_headerElementBold"/>
                                                    <enable condition-union="AND">
                                                        <condition>true</condition>
                                                    </enable>
                                                </alt-appearance>
                                            </alt-appearancies>
                                        </appearance>
                                        <hint-pop-up>${ui.form.FinanceResourceForm.section.Header.section.row15.field.PaperDocNumbers.hintPopUp:№ бумажного документа, зерез запятую}</hint-pop-up>
                                    </field>
                                    <field attribute-ref="DOPName">
                                        <properties>
                                            <hide condition-union="AND">
                                                <condition>true</condition>
                                            </hide>
                                        </properties>
                                    </field>
                                    <field attribute-ref="securityStamp" recalc="true">
                                        <properties>
                                            <hide condition-union="AND">
                                                <condition>true</condition>
                                            </hide>
                                        </properties>
                                    </field>
                                </component>
                            </section>
                            <section id="statusColumn" group="true">
                                <component>
                                    <field attribute-ref="status"
                                           name="${ui.form.AgreementResourceForm.section.Header.section.row1.field.status.name:Статус:}">
                                        <appearance>
                                            <label-style label-unit="symbol" label-width="7" field-unit="symbol" field-width="14"/>
                                        </appearance>
                                        <directories limit-livesearch="sys-current">
                                            <directory-ref ref="contractStatuses"/>
                                        </directories>
                                    </field>
                                </component>
                            </section>
                            <section id="stateColumn" group="true">
                                <component>
                                    <field attribute-ref="stateProject">
                                        <meta>
                                            <documentation>Статус "Проект"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="OR">
                                                <negative-condition-ref ref="RkkResource_stateProject"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                            <alt-appearancies>
                                                <alt-appearance>
                                                    <appearance-ref ref="rightAlign"/>
                                                    <enable condition-union="AND">
                                                        <condition>true</condition>
                                                    </enable>
                                                </alt-appearance>
                                            </alt-appearancies>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="stateRework">
                                        <meta>
                                            <documentation>Статус "На доработке"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="OR">
                                                <negative-condition-ref ref="RkkResource_stateRework"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                            <alt-appearancies>
                                                <alt-appearance>
                                                    <appearance-ref ref="rightAlign"/>
                                                    <enable condition-union="AND">
                                                        <condition>true</condition>
                                                    </enable>
                                                </alt-appearance>
                                            </alt-appearancies>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="stateDelete">
                                        <meta>
                                            <documentation>Статус "Удален"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="OR">
                                                <negative-condition-ref ref="RkkResource_stateDelete"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                            <alt-appearancies>
                                                <alt-appearance>
                                                    <appearance-ref ref="rightAlign"/>
                                                    <enable condition-union="AND">
                                                        <condition>true</condition>
                                                    </enable>
                                                </alt-appearance>
                                            </alt-appearancies>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="$approvStatusInfo">
                                        <meta>
                                            <documentation>Статус "На согласовании"</documentation>
                                        </meta>
                                        <appearance align="right" importance="normal"/>
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateOnApprove"/>
                                            </hide>
                                        </properties>
                                    </field>
                                    <field attribute-ref="stateApprove">
                                        <meta>
                                            <documentation>Результат согласования</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateResultApprove"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" importance="high" multiline="false">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="stateSendToSignOnPaper">
                                        <meta>
                                            <documentation>Статус "На подписании на бумаге"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateOnSignPaper"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" importance="high"/>
                                    </field>
                                    <field attribute-ref="stateSignReject">
                                        <meta>
                                            <documentation>Статус "Отказано в подписании"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateSignReject"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="$signStatusInfo">
                                        <meta>
                                            <documentation>Статус "На подписании"</documentation>
                                        </meta>
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateOnSign"/>
                                                <negative-condition-ref ref="RkkResource_stateSign"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" importance="normal"/>
                                    </field>
                                    <field attribute-ref="stateSignRecall">
                                        <meta>
                                            <documentation>Статус "Отозвано с подписания"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateSignIsRecalled"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="$regStatusInfo">
                                        <meta>
                                            <documentation>Статус "На регистрации"</documentation>
                                        </meta>
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateOnReg"/>
                                                <negative-condition-ref ref="RkkResource_stateRejectReg"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" importance="normal"/>
                                    </field>
                                    <field attribute-ref="stateReg">
                                        <meta>
                                            <documentation>Статус "Зарегистрирован"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="OR">
                                                <negative-condition-ref ref="RkkResource_stateReg"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="stateCertified">
                                        <meta>
                                            <documentation>Статус "Зарегистрирован"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="OR">
                                                <negative-condition-ref ref="RkkResource_stateCertified"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="stampInfo">
                                        <meta>
                                            <documentation>Статус "Идет формирования образа документа"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="OR">
                                                <negative-condition-ref ref="RkkResource_stateStamp"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="$reviewStatusInfo">
                                        <meta>
                                            <documentation>Статус "На ознакомлении"</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateReview"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" importance="normal"/>
                                    </field>
                                    <field attribute-ref="stateStatusExec">
                                        <meta>
                                            <documentation>Статус "На исполнении"</documentation>
                                        </meta>
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_stateOnExec"/>
                                            </hide>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance importance="high" multiline="false" align="right">
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBold"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <section id="headerLine2" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="columnHeaderLeft" group="true">
                                <appearance>
                                    <dialog-mode unit="percent" width="20"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="showRegInfo">
                                        <appearance location="subform" align="left"/>
                                    </field>
                                </component>
                            </section>
                            <section id="columnHeaderRight" group="true">
                                <appearance align="right" field-layout="horizontal"/>
                                <component>
                                    <field attribute-ref="infoStateApprove">
                                        <meta>
                                            <documentation>Статусы согласования</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref  ref="RkkResource_infoStateApprove"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" multiline="false">
                                            <label-style field-width="1" field-unit="symbol" label-unit="symbol" label-width="1">
                                                <style id="tunFontSize8"/>
                                                <style id="tunUnderlineDotted"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="infoStateChangeContent">
                                        <meta>
                                            <documentation>Статус изменения содержания после согласования</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref  ref="RkkResource_infoStateChangeContent"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" multiline="false">
                                            <label-style field-width="1" field-unit="symbol" label-unit="symbol" label-width="1">
                                                <style id="tunFontSize8"/>
                                                <style id="tunUnderlineDotted"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="infoStateSign">
                                        <meta>
                                            <documentation>Статусы подписания</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="RkkResource_infoStateSign"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" multiline="false">
                                            <label-style field-width="1" field-unit="symbol" label-unit="symbol" label-width="1">
                                                <style id="tunFontSize8"/>
                                                <style id="tunUnderlineDotted"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="infoStateReg">
                                        <meta>
                                            <documentation>Статусы регистрации</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref  ref="RkkResource_infoStateReg"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" multiline="false">
                                            <label-style field-width="1" field-unit="symbol" label-unit="symbol" label-width="1">
                                                <style id="tunFontSize8"/>
                                                <style id="tunUnderlineDotted"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="infoStateCertified">
                                        <meta>
                                            <documentation>Статус заверения</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref  ref="RkkResource_infoStateCertified"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" multiline="false">
                                            <label-style field-width="1" field-unit="symbol" label-unit="symbol" label-width="1">
                                                <style id="tunFontSize8"/>
                                                <style id="tunUnderlineDotted"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="infoStateReview">
                                        <meta>
                                            <documentation>Статусы ознакомления</documentation>
                                        </meta>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                            <hide condition-union="AND">
                                                <negative-condition-ref  ref="RkkResource_infoStateReview"/>
                                            </hide>
                                        </properties>
                                        <appearance align="right" multiline="false">
                                            <label-style field-width="1" field-unit="symbol" label-unit="symbol" label-width="1">
                                                <style id="tunFontSize8"/>
                                                <style id="tunUnderlineDotted"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <section id="headerLine3" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <field attribute-ref="$titleHeader">
                                <properties>
                                    <require condition-union="AND">
                                        <condition-ref ref="edit"/>
                                    </require>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="edit"/>
                                    </hide>
                                </properties>
                                <appearance importance="normal">
                                    <label-style>
                                        <style id="tunFontSize14"/>
                                    </label-style>
                                    <field-style>
                                        <value-style>
                                            <style id="tunFontSize14"/>
                                        </value-style>
                                    </field-style>
                                </appearance>
                                <hint-in-field>${ui.form.RkkResourceContractsForm.section.Header.field.titleHeader.hintInField:Введите заголовок документа}</hint-in-field>
                                <directories limit-livesearch="no-restrictions" manual-input="true">
                                    <directory-ref ref="titleContract"/>
                                </directories>
                            </field>
                            <field attribute-ref="$titleHeader">
                                <properties>
                                    <require condition-union="AND">
                                        <condition-ref ref="edit"/>
                                    </require>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="read"/>
                                    </hide>
                                </properties>
                                <appearance importance="normal">
                                    <label-style>
                                        <style id="tunFontSize14"/>
                                        <style id="tunClickableUnderline"/>
                                    </label-style>
                                    <field-style>
                                        <value-style>
                                            <style id="tunFontSize14"/>
                                            <style id="tunClickableUnderline"/>
                                        </value-style>
                                    </field-style>
                                </appearance>
                                <hint-in-field>${ui.form.RkkResourceContractsForm.section.Header.field.titleHeader.hintInField:Введите заголовок документа}</hint-in-field>
                                <directories manual-input="true">
                                    <directory-ref ref="titleContract"/>
                                </directories>
                            </field>
                        </component>
                    </section>
                    <section id="headerLine4" group="true">
                        <component>
                            <section id="stateCommentLabelWarn" group="true">
                                <properties>
                                    <hide>
                                        <negative-condition-ref ref="RkkResource_stateCommentWarn"/>
                                    </hide>
                                </properties>
                                <appearance field-layout="horizontal"/>
                                <component>
                                    <field attribute-ref="stateCommentLabelWarn">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance align="left" multiline="false">
                                            <label-style field-unit="symbol" field-width="1">
                                                <style id="tunRed"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="stateCommentWarn">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance align="left" multiline="false">
                                            <label-style field-unit="symbol" field-width="1"/>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                            <section id="stateCommentLabelInfo" group="true">
                                <properties>
                                    <hide>
                                        <negative-condition-ref ref="RkkResource_stateCommentInfo"/>
                                    </hide>
                                </properties>
                                <appearance field-layout="horizontal"/>
                                <component>
                                    <field attribute-ref="stateCommentLabelInfo">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance align="left" multiline="false">
                                            <label-style field-unit="symbol" field-width="1">
                                                <style id="tunGreen"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                    <field attribute-ref="stateCommentInfo">
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <appearance align="left" multiline="false">
                                            <label-style field-unit="symbol" field-width="1"/>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                </component>
            </section>
            <section id="RootMenu">
                <component>
                    <section id="Create" name="${ui.form.AgreementResourceForm.section.RootMenu.section.Create.name:Создать}">
                        <appearance>
                            <action>
                                <system name="CREATE"/>
                            </action>
                        </appearance>
                        <properties>
                            <hide>
                                <negative-condition-ref ref="read"/>
                            </hide>
                        </properties>
                        <component>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.Create.button.create.version.name:Новую версию}">
                                <properties>
                                    <hide condition-union="AND">
                                        <condition-ref ref="on_Approving"/>
                                        <condition-ref ref="onSigning_AddAgree"/>
                                        <condition-ref ref="hasResolution_AddAgree"/>
                                        <condition-ref ref="isNewAddAgree"/>
                                        <condition-ref ref="OnReview_AddAgree"/>
                                        <condition-ref ref="Signed_Agr"/>
                                        <condition-ref ref="versionalNotEnableAddAgree"/>
                                        <condition-ref ref="notCanEditByServer"/>
                                        <condition-ref ref="IsNotProjectAgreement"/>
                                    </hide>
                                </properties>
                                <action>
                                    <custom>
                                        <operation>
                                            <handler-ref ref="createVersionRkk"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.Create.button.create.case.name:Скрыть Кейс на основании документа}">
                                <properties>
                                    <hide>
                                        <condition>true</condition>
                                    </hide>
                                </properties>
                                <action>
                                    <system name="CREATE_CASE_BY_DOC"/>
                                </action>
                            </button>
                        </component>
                    </section>
                    <button name="${ui.form.Actions.section.RootMenu.button.OnRework.name:Взять в доработку}">
                        <icon code="42"/>
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="Actions_showOnReworkButton"/>
                            </hide>
                        </properties>
                        <action position="20">
                            <custom>
                                <operation>
                                    <handler-ref ref="Actions_OnRework"/>
                                </operation>
                            </custom>
                        </action>
                    </button>
                    <section id="SEND" name="${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.name:Отправить}">
                        <appearance>
                            <action position="21">
                                <system name="SEND"/>
                            </action>
                        </appearance>
                        <component>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.На подписание.name:На подписание}" alias="SendToSign">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="showSendToSignContractRepeat"/>
                                    </hide>
                                </properties>
                                <action>
                                    <custom>
                                        <operation>
                                            <handler-ref ref="SendToSignOperation"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.На регистрацию.name:На регистрацию}" alias="SendToReReRegistration">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="canSendToReRegistrationContracts"/>
                                    </hide>
                                </properties>
                                <hint-pop-up>${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.На регистрацию.hintPopUp:На регистрацию}</hint-pop-up>
                                <action>
                                    <custom>
                                        <operation>
                                            <handler-ref ref="SentToReRegistrationOperation"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.sendToApprove.hide.name:Скрыть системную кнопку На согласование}">
                                <properties>
                                    <hide condition-union="AND">
                                        <condition>true</condition>
                                    </hide>
                                </properties>
                                <action>
                                    <system name="http://intertrust.ru/cmj/relations#approving.start"/>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.sendToApprove.name:На согласование}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="AddAgr_CanSendToApprovingRead"/>
                                    </hide>
                                </properties>
                                <hint-pop-up>${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.sendToApprove.hintPopUp:На согласование}</hint-pop-up>
                                <action>
                                    <custom>
                                        <operation>
                                            <handler-ref ref="Actions_SendToApprove"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.sendToApprove.name:На согласование}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="AddAgr_CanSendToApprovingEdit"/>
                                    </hide>
                                </properties>
                                <hint-pop-up>${ui.form.AgreementResourceForm.section.RootMenu.section.SEND.button.sendToApprove.hintPopUp:На согласование}</hint-pop-up>
                                <action>
                                    <custom>
                                        <operation save-context="true">
                                            <handler-ref ref="Actions_SendToApprove"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.button.SendToSignOnPaper.name:На подписание на бумаге}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="AddAgr_showSignOnPaperButton"/>
                                        <negative-condition-ref ref="read"/>
                                    </hide>
                                </properties>
                                <action>
                                    <custom>
                                        <operation save-context="true">
                                            <handler-ref ref="SendToSignOnPaper"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.button.SendToSignOnPaper.name:На подписание на бумаге}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="AddAgr_showSignOnPaperButton"/>
                                        <negative-condition-ref ref="edit"/>
                                    </hide>
                                </properties>
                                <action>
                                    <custom>
                                        <operation save-context="false">
                                            <handler-ref ref="SendToSignOnPaper"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                        </component>
                    </section>
                    <button alias="recallSignWithVers" name="${ui.form.Object.button.canRecallSign.name:Отозвать с подписания}">
                        <icon code="103"/>
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="CanRecallSignAddAgr"/>
                            </hide>
                        </properties>
                        <action position="22">
                            <custom>
                                <operation>
                                    <handler-ref ref="RecallSignWithVers"/>
                                </operation>
                            </custom>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.section.RootMenu.button.reject.name:Отказать в подписании}">
                        <icon code="22"/>
                        <action position="23">
                            <custom>
                                <operation>
                                    <handler-ref ref="rejectSigningCustom"/>
                                </operation>
                            </custom>
                        </action>
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="CanRejectSignNoVerAddAgree"/>
                            </hide>
                        </properties>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.section.RootMenu.button.reject.name:Отказать в подписании}">
                        <icon code="22"/>
                        <action position="23">
                            <custom>
                                <operation>
                                    <handler-ref ref="rejectSigningWithVers"/>
                                </operation>
                            </custom>
                        </action>
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="CanRejectSignVerAddAgree"/>
                            </hide>
                        </properties>
                    </button>
                    <button alias="unsign" name="${ui.form.RkkResourceForm.button.Отменить подпись.name:Отменить подпись}">
                        <icon code="22"/>
                        <properties>
                            <hide condition-union="AND">
                                <!--after debug replace <negative-condition-ref ref="showUnsignButton"/>-->
                                <negative-condition-ref ref="showUnsignButton"/>
                            </hide>
                        </properties>
                        <action position="24">
                            <system name="http://intertrust.ru/cmj/relations#unsign"/>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.button.btnCancellationRegistration.name:Отозвать с регистрации}">
                        <icon code="103"/>
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="showCancellationOfRegistrationButtonDS"/>
                                <negative-condition-ref ref="read"/>
                            </hide>
                        </properties>
                        <action position="80">
                            <custom>
                                <operation>
                                    <handler-ref ref="cancellationOfRegistration"/>
                                </operation>
                            </custom>
                        </action>
                    </button>

                    <section id="OTHER" name="${ui.form.AgreementResourceForm.section.RootMenu.section.OTHER.name:Другое}">
                        <appearance>
                            <action>
                                <system name="OTHER"/>
                            </action>
                        </appearance>
                        <component>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.OTHER.button.StampToImage.name:Сформировать образ}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="canManualStamp"/>
                                    </hide>
                                </properties>
                                <hint-pop-up>${ui.form.AgreementResourceForm.section.RootMenu.section.OTHER.button.StampToImage.hintPopUp:Сформировать образ}</hint-pop-up>
                                <action>
                                    <custom>
                                        <operation>
                                            <handler>
                                                <script lang="JavaBean">StampPlacement</script>
                                            </handler>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.OTHER.button.showVersion.name:Показать все версии}">
                                <action>
                                    <custom>
                                        <operation>
                                            <handler-ref ref="showAllVersions"/>
                                        </operation>
                                    </custom>
                                </action>
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="versionalEnableAddAgree"/>
                                    </hide>
                                </properties>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.button.Читатели.name:Читатели}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="read"/>
                                    </hide>
                                </properties>
                                <hint-pop-up>${ui.form.AgreementResourceForm.button.Читатели.hintPopUp:Читатели}</hint-pop-up>
                                <action>
                                    <custom>
                                        <operation>
                                            <handler-ref ref="ReadersMultiForm"/>
                                        </operation>
                                    </custom>
                                </action>
                            </button>
                            <button name="${ui.form.AgreementResourceForm.button.Читатели.name:Читатели}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="read"/>
                                        <condition>true</condition>
                                    </hide>
                                </properties>
                                <hint-pop-up>${ui.form.AgreementResourceForm.button.Читатели.hintPopUp:Читатели}</hint-pop-up>
                                <action>
                                    <system name="http://intertrust.ru/cmj/relations#acl"/>
                                </action>
                            </button>
                        </component>
                    </section>

                    <!-- Новые действия -->
                    <button name="${ui.form.AgreementResourceForm.section.RootMenu.buttom.Separator:|}">
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="isActiveAddagr"/>
                            </hide>
                        </properties>
                        <action position="160">
                            <system name="SEPARATOR_ID"/>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.Create.button.create.order.name:Создать заказ}">
                        <icon code="25"/>
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="isActiveAddagr"/>
                            </hide>
                        </properties>
                        <action position="161">
                            <custom>
                                <operation save-context="true">
                                    <handler-ref ref="CreateOrderFromContract"/>
                                </operation>
                            </custom>
                        </action>
                    </button>

                    <!-- Скрытие кнопок -->
                    <button name="${ui.form.AgreementResourceForm.section.RootMenu.button.Скрыть системную кнопку Сохранить.name:Скрыть системную кнопку Сохранить}">
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="on_Approving"/>
                                <condition>true</condition>
                            </hide>
                        </properties>
                        <action>
                            <system name="EDIT"/>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.button.viewVersion.hide.name:Скрыть Показать все версии}">
                        <properties>
                            <hide condition-union="AND">
                                <condition>true</condition>
                            </hide>
                        </properties>
                        <action>
                            <system name="VIEW_VERSION"/>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.button.createVersion.hide.name:Скрыть создать новую версию}">
                        <properties>
                            <hide>
                                <condition>true</condition>
                            </hide>
                        </properties>
                        <action>
                            <system name="CREATE_VERSION"/>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.button.createVersion.hide.name:Скрыть создать новую версию}">
                        <properties>
                            <hide>
                                <condition>true</condition>
                            </hide>
                        </properties>
                        <action>
                            <system name="CREATE_VERSION_EDIT"/>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.create.hideEmpty.name:Скрытие Пустой}">
                        <properties>
                            <hide>
                                <condition>true</condition>
                            </hide>
                        </properties>
                        <action>
                            <system name="CREATE_EMPTY"/>
                        </action>
                    </button>
                    <button name="${ui.form.AgreementResourceForm.section.RootMenu.section.create.hideByTemplate.name:Скрытие По шаблону}">
                        <properties>
                            <hide>
                                <condition>true</condition>
                            </hide>
                        </properties>
                        <action>
                            <system name="CREATE_BY_TEMPLATE"/>
                        </action>
                    </button>
                </component>
            </section>
            <section id="Attributes" name="${ui.form.AgreementResourceForm.section.Attributes.name:Реквизиты}">
                <component>
                    <field attribute-ref="labelMain">
                        <properties>
                            <read-only>
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <field attribute-ref="category" name="${ui.form.AgreementResourceForm.field.category.name:Тематика:}">
                        <appearance importance="normal" multiline="true">
                            <label-style>
                                <style id="tunBorderedFieldLight"/>
                            </label-style>
                        </appearance>
                        <directories limit-livesearch="sys-current">
                            <directory-ref ref="theme"/>
                        </directories>
                        <hint-pop-up>${ui.form.AgreementResourceForm.field.category.hintPopUp:Тематика}</hint-pop-up>
                    </field>
                    <section id="Main" name="${ui.form.AgreementResourceForm.section.Attributes.section.Main.name:Основные}" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="Main_left" group="true">
                                <appearance>
                                    <dialog-mode width="50" unit="percent"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="regInfo.date"
                                           name="${ui.form.AgreementResourceForm.field.registration.date.name:Дата ДС:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>
                                            ${ui.form.AgreementResourceForm.field.registration.date.hintPopUp:Дата ДС}
                                        </hint-pop-up>
                                    </field>
                                    <field attribute-ref="started"
                                           name="${ui.form.AgreementResourceForm.field.started.name:Действует с:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>
                                            ${ui.form.AgreementResourceForm.section.Attributes.field.started.hintPopUp:Действует с}
                                        </hint-pop-up>
                                    </field>
                                </component>
                            </section>
                            <section id="Main_right" group="true">
                                <component>
                                    <field attribute-ref="additionalNumber"
                                           name="${ui.form.AgreementResourceForm.section.Attributes.field.additionalNumber.name:Доп.номер:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>
                                            ${ui.form.AgreementResourceForm.field.additionalNumber.hintPopUp:Доп.номер:}
                                        </hint-pop-up>
                                    </field>
                                    <field attribute-ref="finished"
                                           name="${ui.form.AgreementResourceForm.field.finished.name:Действует по:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>
                                            ${ui.form.AgreementResourceForm.field.finished.hintPopUp:Действует по}
                                        </hint-pop-up>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <field attribute-ref="comment" name="${ui.form.AgreementResourceForm.field.comment.name:Примечание:}">
                        <appearance importance="normal" multiline="true">
                            <label-style>
                                <style id="tunBorderedFieldLight"/>
                            </label-style>
                        </appearance>
                        <hint-pop-up>${ui.form.AgreementResourceForm.field.comment.hintPopUp:Примечание}</hint-pop-up>
                    </field>
                    <field attribute-ref="labelCost">
                        <properties>
                            <read-only condition-union="AND">
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <section id="Cost" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="cost_left" group="true">
                                <appearance>
                                    <dialog-mode width="50" unit="percent"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="value.total" name="${ui.form.AgreementResourceForm.field.value.total.name:Цена ДС:}" recalc="true">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                            <field-style cost-format="true"/>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.value.total.hintPopUp:Цена ДС}</hint-pop-up>
                                    </field>
                                    <field attribute-ref="value.advancepayment" name="${ui.form.AgreementResourceForm.field.advancepayment.name:Предоплата:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                            <field-style cost-format="true"/>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.value.advancepayment.hintPopUp:Предоплата}</hint-pop-up>
                                    </field>
                                </component>
                            </section>
                            <section id="cost_right" group="true">
                                <component>
                                    <field attribute-ref="value.currency" name="${ui.form.AgreementResourceForm.field.value.currency.name:Тип валюты:}">
                                        <properties>
                                            <require condition-union="AND">
                                                <condition-ref ref="isNotEmptyValueTotalAgreement"/>
                                                <condition-ref ref="edit"/>
                                            </require>
                                        </properties>
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.value.currency.hintPopUp:Тип валюты}</hint-pop-up>
                                    </field>
                                    <field attribute-ref="value.scheme" name="${ui.form.AgreementResourceForm.field.value.scheme.name:Порядок оплаты:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.value.scheme.hintPopUp:Порядок оплаты}</hint-pop-up>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <field attribute-ref="labelSigner">
                        <properties>
                            <read-only condition-union="AND">
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <section id="signers" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="signers_left" group="true">
                                <appearance>
                                    <dialog-mode width="50" unit="percent"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="parties.first" recalc="true"
                                           name="${ui.form.AgreementResourceForm.field.parties.first.name:Первая сторона:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBorderedFieldLight"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                        <properties>
                                            <require>
                                                <condition-ref ref="edit"/>
                                            </require>
                                        </properties>
                                        <hint-pop-up>
                                            ${ui.form.AgreementResourceForm.field.parties.first.hintPopUp:Первая сторона}
                                        </hint-pop-up>
                                        <directories limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_ORGS_DEPS"/>
                                            <directory-ref ref="FOREIGN_ORGS"/>
                                            <directory-ref ref="FV_CURR_ORG_LEGALDEP_FOREIGN_ORG"/>
                                        </directories>
                                    </field>
                                    <section id="sectionForFirstPartyIsPersonal" group="true">
                                        <properties>
                                            <hide>
                                                <condition-ref ref="Agreement_hasMultipleSigners"/>
                                            </hide>
                                        </properties>
                                        <component>
                                            <field attribute-ref="isPersonal"
                                                   name="${ui.form.AgreementResourceForm.field.isPersonal.name:Выполнить лично}">
                                                <properties>
                                                    <read-only condition-union="AND">
                                                        <condition-ref ref="isSignedOrOnSignAgr"/>
                                                    </read-only>
                                                    <hide condition-union="AND">
                                                        <condition-ref ref="hidePersonalArg"/>
                                                    </hide>
                                                </properties>
                                                <appearance align="right" importance="normal">
                                                    <label-style field-width="2" field-unit="symbol"/>
                                                </appearance>
                                            </field>
                                        </component>
                                    </section>
                                    <section id="firstPartySignersSection" group="true">
                                        <properties>
                                            <hide>
                                                <condition-ref ref="firstPartyIsEmpty"/>
                                            </hide>
                                        </properties>
                                        <component>
                                            <section id="singleSignersFirstPartySection" group="true">
                                                <appearance field-layout="horizontal"/>
                                                <properties>
                                                    <hide>
                                                        <condition-ref ref="Agreement_hasMultipleSigners"/>
                                                    </hide>
                                                </properties>
                                                <component>
                                                    <field attribute-ref="signatureContracts.this.signer"
                                                           name="${ui.form.AgreementResourceForm.field.signatureContracts.this.signer.name:Подписант (1-я сторона):}">
                                                        <properties>
                                                            <hide>
                                                                <negative-condition-ref ref="FirstPartyIsCurrentOrg_agr"/>
                                                            </hide>
                                                            <read-only condition-union="AND">
                                                                <condition-ref ref="isSigningStatusSent"/>
                                                            </read-only>
                                                            <require condition-union="AND">
                                                                <condition-ref ref="edit"/>
                                                            </require>
                                                        </properties>
                                                        <appearance importance="normal">
                                                            <label-style>
                                                                <style id="tunBorderedFieldLight"/>
                                                            </label-style>
                                                        </appearance>
                                                        <directories limit-livesearch="sys-current">
                                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                                            <directory-ref ref="CURR_HUMAN_HH_HIER"/>
                                                            <directory-ref ref="FV_CURR_HUMAN_HH"/>
                                                        </directories>
                                                    </field>
                                                    <field attribute-ref="signatureContracts.this.signer"
                                                           name="${ui.form.AgreementResourceForm.field.signatureContracts.this.signer.name:Подписант (1-я сторона):}">
                                                        <properties>
                                                            <hide condition-union="AND">
                                                                <condition-ref ref="FirstPartyIsCurrentOrg_agr"/>
                                                            </hide>
                                                            <require condition-union="AND">
                                                                <condition-ref ref="edit"/>
                                                            </require>
                                                        </properties>
                                                        <appearance importance="normal">
                                                            <label-style>
                                                                <style id="tunBorderedFieldLight"/>
                                                            </label-style>
                                                        </appearance>
                                                        <directories>
                                                            <directory-select-org ref="foreign_human" attribute-ref="parties.first"/>
                                                        </directories>
                                                    </field>
                                                </component>
                                            </section>
                                            <section id="multiSignersFirstPartySection" group="true">
                                                <properties>
                                                    <hide condition-union="AND">
                                                        <negative-condition-ref ref="Agreement_hasMultipleSigners"/>
                                                    </hide>
                                                </properties>
                                                <component>
                                                    <section group="true" id="firstPartyCurOrgMultiSignersSection">
                                                        <properties>
                                                            <hide>
                                                                <negative-condition-ref ref="FirstPartyIsCurrentOrg_agr"/>
                                                            </hide>
                                                        </properties>
                                                        <component>
                                                            <section id="signUtilitySection" group="true">
                                                                <appearance field-layout="horizontal"/>
                                                                <component>
                                                                    <section id="addSigners" group="true">
                                                                        <appearance field-layout="horizontal"/>
                                                                        <properties show-empty-field="true">
                                                                            <hide>
                                                                                <condition-ref ref="isSignedOrOnSignAgr"/>
                                                                            </hide>
                                                                        </properties>
                                                                        <component>
                                                                            <field attribute-ref="$emptyString">
                                                                                <properties>
                                                                                    <read-only>
                                                                                        <condition>true</condition>
                                                                                    </read-only>
                                                                                </properties>
                                                                                <appearance>
                                                                                    <label-style field-width="15" field-unit="symbol"/>
                                                                                </appearance>
                                                                            </field>
                                                                            <button name="${ui.form.Actions.signers.add:Добавить}">
                                                                                <appearance>
                                                                                    <label-style>
                                                                                        <style id="tunIconAdd"/>
                                                                                        <style id="tunBlue"/>
                                                                                        <style id="tunUnderline"/>
                                                                                        <style id="tunNMB"/>
                                                                                    </label-style>
                                                                                </appearance>
                                                                                <properties>
                                                                                    <hide>
                                                                                        <negative-condition-ref ref="edit"/>
                                                                                    </hide>
                                                                                </properties>
                                                                                <action>
                                                                                    <custom>
                                                                                        <change-subobject schema-ref="AddSignersArray"/>
                                                                                    </custom>
                                                                                </action>
                                                                            </button>
                                                                            <field attribute-ref="signers" recalc="true">
                                                                                <properties>
                                                                                    <hide>
                                                                                        <condition>true</condition>
                                                                                    </hide>
                                                                                </properties>
                                                                            </field>
                                                                        </component>
                                                                    </section>
                                                                    <field attribute-ref="isPersonal"
                                                                           name="${ui.form.AgreementResourceForm.field.isPersonal.name:Выполнить лично}">
                                                                        <properties>
                                                                            <read-only condition-union="AND">
                                                                                <condition-ref ref="isSignedOrOnSignAgr"/>
                                                                            </read-only>
                                                                            <hide condition-union="AND">
                                                                                <condition-ref ref="hidePersonalArg"/>
                                                                            </hide>
                                                                        </properties>
                                                                        <appearance align="right" importance="normal">
                                                                            <label-style field-width="2" field-unit="symbol"/>
                                                                        </appearance>
                                                                    </field>
                                                                </component>
                                                            </section>
                                                            <section id="signersHorizontalSection" group="true">
                                                                <appearance field-layout="horizontal"/>
                                                                <component>
                                                                    <section group="true" id="firstPartyCurOrgMultiSignersTableName">
                                                                        <component>
                                                                            <field attribute-ref="fakeString"
                                                                                   name="${ui.form.AgreementResourceForm.field.signatureContracts.this.signer.name:Подписант (1-я сторона):}">
                                                                                <properties>
                                                                                    <read-only condition-union="AND">
                                                                                        <condition>true</condition>
                                                                                    </read-only>
                                                                                </properties>
                                                                            </field>
                                                                        </component>
                                                                        <appearance>
                                                                            <dialog-mode unit="percent" width="5"/>
                                                                        </appearance>
                                                                    </section>
                                                                    <section group="true" id="firstPartyCurOrgMultiSignersTable">
                                                                        <appearance field-layout="horizontal"/>
                                                                        <component>
                                                                            <field attribute-ref="signatureContracts.this.signers" recalc="true">
                                                                                <properties>
                                                                                    <read-only condition-union="AND">
                                                                                        <condition-ref ref="isSignedOrOnSignAgr"/>
                                                                                    </read-only>
                                                                                    <require condition-union="AND">
                                                                                        <condition-ref ref="edit"/>
                                                                                    </require>
                                                                                </properties>
                                                                                <appearance location="table" importance="normal"/>
                                                                            </field>
                                                                        </component>
                                                                    </section>
                                                                </component>
                                                            </section>
                                                        </component>
                                                    </section>
                                                    <section id="signPers" group="true">
                                                        <appearance field-layout="vertical"/>
                                                        <properties>
                                                            <hide condition-union="AND">
                                                                <condition-ref ref="FirstPartyIsCurrentOrg_agr"/>
                                                            </hide>
                                                        </properties>
                                                        <component>
                                                            <field attribute-ref="isPersonal"
                                                                   name="${ui.form.AgreementResourceForm.field.isPersonal.name:Выполнить лично}">
                                                                <properties>
                                                                    <read-only condition-union="AND">
                                                                        <condition-ref ref="isSignedOrOnSignAgr"/>
                                                                    </read-only>
                                                                    <hide condition-union="AND">
                                                                        <condition-ref ref="hidePersonalArg"/>
                                                                    </hide>
                                                                </properties>
                                                                <appearance align="right" importance="normal">
                                                                    <label-style field-width="2" field-unit="symbol"/>
                                                                </appearance>
                                                            </field>
                                                            <field attribute-ref="signatureContracts.this.signersExt"
                                                                   name="${ui.form.AgreementResourceForm.field.signatureContracts.this.signer.name:Подписант (1-я сторона):}">
                                                                <properties>
                                                                    <require condition-union="AND">
                                                                        <condition-ref ref="edit"/>
                                                                    </require>
                                                                </properties>
                                                                <appearance importance="normal">
                                                                    <label-style>
                                                                        <style id="tunBorderedFieldLight"/>
                                                                    </label-style>
                                                                </appearance>
                                                                <directories>
                                                                    <directory-select-org ref="foreign_human" attribute-ref="parties.first"/>
                                                                </directories>
                                                            </field>
                                                        </component>
                                                    </section>
                                                </component>
                                            </section>
                                        </component>
                                    </section>
                                </component>
                            </section>
                            <section id="signers_right" group="true">
                                <component>
                                    <field attribute-ref="parties.second" recalc="true"
                                           name="${ui.form.AgreementResourceForm.field.parties.second.name:Вторая сторона:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                            <field-style>
                                                <value-style>
                                                    <style id="tunBorderedFieldLight"/>
                                                </value-style>
                                            </field-style>
                                        </appearance>
                                        <properties>
                                            <require>
                                                <condition-ref ref="edit"/>
                                            </require>
                                        </properties>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.parties.second.hintPopUp:Вторая сторона}</hint-pop-up>
                                        <directories limit-livesearch="no-restrictions">
                                            <directory-ref ref="CURRENT_SYS_ORGS_DEPS"/>
                                            <directory-ref ref="FOREIGN_ORGS"/>
                                            <directory-ref ref="FV_CURR_ORG_LEGALDEP_FOREIGN_ORG"/>
                                            <directory-ref ref="PrivatePeople"/>
                                        </directories>
                                    </field>
                                    <section id="singleSignerSecondPartySection" group="true">
                                        <properties>
                                            <hide condition-union="AND">
                                                <condition-ref ref="Agreement_hasMultipleSigners"/>
                                            </hide>
                                        </properties>
                                        <component>
                                            <field attribute-ref="signatureContracts.other.signer" name="${ui.form.AgreementResourceForm.field.second.party.signers:Подписант (2-я сторона):}">
                                                <properties>
                                                    <hide condition-union="AND">
                                                        <negative-condition-ref ref="SecondPartyIsCurrentOrg_agr"/>
                                                    </hide>
                                                </properties>
                                                <appearance importance="normal">
                                                    <label-style>
                                                        <style id="tunBorderedFieldLight"/>
                                                    </label-style>
                                                </appearance>
                                                <directories limit-livesearch="sys-current">
                                                    <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                                    <directory-ref ref="CURR_HUMAN_HH_HIER"/>
                                                    <directory-ref ref="FV_CURR_HUMAN_HH"/>
                                                </directories>
                                            </field>
                                            <field attribute-ref="signatureContracts.other.signer" name="${ui.form.AgreementResourceForm.field.second.party.signers:Подписант (2-я сторона):}">
                                                <properties>
                                                    <hide condition-union="AND">
                                                        <negative-condition-ref ref="SecondPartyIsExtOrg_agr"/>
                                                    </hide>
                                                </properties>
                                                <appearance importance="normal">
                                                    <label-style>
                                                        <style id="tunBorderedFieldLight"/>
                                                    </label-style>
                                                </appearance>
                                                <directories>
                                                    <directory-select-org ref="foreign_human" attribute-ref="parties.second"/>
                                                </directories>
                                            </field>
                                            <field attribute-ref="signatureContracts.other.signer" name="${ui.form.AgreementResourceForm.field.second.party.signers:Подписант (2-я сторона):}">
                                                <properties>
                                                    <hide condition-union="AND">
                                                        <negative-condition-ref ref="SecondPartyIsPrivateHuman_agr"/>
                                                    </hide>
                                                </properties>
                                                <appearance importance="normal">
                                                    <label-style>
                                                        <style id="tunBorderedFieldLight"/>
                                                    </label-style>
                                                </appearance>
                                                <directories>
                                                    <directory-category-custom-coll ref="PrivatePeople"/>
                                                </directories>
                                            </field>
                                        </component>
                                    </section>
                                    <section id="multiSignersSecondPartySection" group="true">
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="Agreement_hasMultipleSigners"/>
                                            </hide>
                                        </properties>
                                        <component>
                                            <field attribute-ref="signatureContracts.other.signers" name="${ui.form.AgreementResourceForm.field.second.party.signers:Подписант (2-я сторона):}">
                                                <properties>
                                                    <hide condition-union="AND">
                                                        <negative-condition-ref ref="SecondPartyIsCurrentOrg_agr"/>
                                                    </hide>
                                                </properties>
                                                <appearance importance="normal">
                                                    <label-style>
                                                        <style id="tunBorderedFieldLight"/>
                                                    </label-style>
                                                </appearance>
                                                <directories limit-livesearch="sys-current">
                                                    <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                                    <directory-ref ref="CURR_HUMAN_HH_HIER"/>
                                                    <directory-ref ref="FV_CURR_HUMAN_HH"/>
                                                </directories>
                                            </field>
                                            <field attribute-ref="signatureContracts.other.signers" name="${ui.form.AgreementResourceForm.field.second.party.signers:Подписант (2-я сторона):}">
                                                <properties>
                                                    <hide condition-union="AND">
                                                        <negative-condition-ref ref="SecondPartyIsExtOrg_agr"/>
                                                    </hide>
                                                </properties>
                                                <appearance importance="normal">
                                                    <label-style>
                                                        <style id="tunBorderedFieldLight"/>
                                                    </label-style>
                                                </appearance>
                                                <directories>
                                                    <directory-select-org ref="foreign_human" attribute-ref="parties.second"/>
                                                </directories>
                                            </field>
                                            <field attribute-ref="signatureContracts.other.signers" name="${ui.form.AgreementResourceForm.field.second.party.signers:Подписант (2-я сторона):}">
                                                <properties>
                                                    <hide condition-union="AND">
                                                        <negative-condition-ref ref="SecondPartyIsPrivateHuman_agr"/>
                                                    </hide>
                                                </properties>
                                                <appearance importance="normal">
                                                    <label-style>
                                                        <style id="tunBorderedFieldLight"/>
                                                    </label-style>
                                                </appearance>
                                                <directories>
                                                    <directory-category-custom-coll ref="PrivatePeople"/>
                                                </directories>
                                            </field>
                                        </component>
                                    </section>
                                </component>
                            </section>
                        </component>
                    </section>
                    <section group="true" id="otherParties">
                        <component>
                            <field attribute-ref="labelOtherParties">
                                <properties>
                                    <read-only condition-union="AND">
                                        <condition>true</condition>
                                    </read-only>
                                </properties>
                                <appearance importance="normal">
                                    <label-style>
                                        <style id="tunBgGray"/>
                                        <style id="tunCaption"/>
                                    </label-style>
                                </appearance>
                            </field>
                            <section group="true" id="otherPartiesTable">
                                <component>
                                    <field attribute-ref="otherPartiesTableDisplay" alias="otherPartiesTable"
                                           name="${ui.form.AgreementResourceForm.field.otherPartiesTableDisplay.name:Другие стороны}">
                                        <properties>
                                            <hide condition-union="AND">
                                                <condition-ref ref="edit"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="normal" location="table"/>
                                    </field>
                                    <field attribute-ref="otherPartiesTable" alias="otherPartiesTable"
                                           name="${ui.form.AgreementResourceForm.field.otherPartiesTable.name:Другие стороны}">
                                        <properties>
                                            <hide condition-union="AND">
                                                <negative-condition-ref ref="edit"/>
                                            </hide>
                                        </properties>
                                        <appearance importance="normal" location="table"/>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <field attribute-ref="labelExecutors">
                        <properties>
                            <read-only condition-union="AND">
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <field attribute-ref="responsibles" name="${ui.form.AgreementResourceForm.field.responsibles.name:Ответственные за исполнение:}">
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBorderedFieldLight"/>
                            </label-style>
                        </appearance>
                        <hint-pop-up>${ui.form.AgreementResourceForm.field.responsibles.hintPopUp:Ответственные за исполнение}</hint-pop-up>
                        <directories limit-livesearch="sys-current">
                            <directory-ref ref="MY_SURRODING"/>
                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                            <directory-ref ref="CURR_HUMAN_HH_HIER"/>
                        </directories>
                    </field>
                    <field attribute-ref="agreementLabelContractInfo">
                        <properties>
                            <read-only>
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <section id="ContractInfo" name="${ui.form.AgreementResourceForm.section.Attributes.section.ContractInfo.name:Реквизиты Договора}" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="ContractInfo_left" group="true">
                                <appearance>
                                    <dialog-mode width="50" unit="percent"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="contractType" name="${ui.form.AgreementResourceForm.field.contractType.name:Вид договора:}">
                                        <properties>
                                            <read-only>
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.contractType.hintPopUp:Вид договора}</hint-pop-up>
                                        <appearance>
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                            <section id="ContractInfo_right" group="true">
                                <component>
                                    <field attribute-ref="agrContractNumAndDate"
                                           name="${ui.form.AgreementResourceForm.field.agrContractNumAndDate.name:Номер и дата:}">
                                        <properties>
                                            <read-only>
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.agrContractNumAndDate.hintPopUp:Номер и дата договора}</hint-pop-up>
                                        <appearance>
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <field attribute-ref="agrContractTitle" name="${ui.form.AgreementResourceForm.field.agrContractTitle.name:Заголовок:}">
                        <properties>
                            <read-only>
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <hint-pop-up>${ui.form.AgreementResourceForm.field.agrContractTitle.hintPopUp:Заголовок договора}</hint-pop-up>
                        <appearance>
                            <label-style>
                                <style id="tunBorderedFieldLight"/>
                            </label-style>
                        </appearance>
                    </field>
                    <field attribute-ref="labelAdditional">
                        <properties>
                            <read-only>
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <section id="Additional" name="${ui.form.AgreementResourceForm.section.Attributes.section.Additional.name:Дополнительные}" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="Additional_left" group="true">
                                <appearance field-layout="horizontal">
                                    <dialog-mode width="50" unit="percent"/>
                                </appearance>
                                <component>
                                    <field attribute-ref="pages" name="${ui.form.AgreementResourceForm.field.pages.name:Кол-во листов:}">
                                        <appearance importance="normal" multiline="true">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.RkkResourceContractsForm.field.pages.hintPopUp:Кол-во листов}</hint-pop-up>
                                    </field>
                                    <field attribute-ref="copies" name="${ui.form.AgreementResourceForm.field.copies.name:Кол-во экземпляров:}">
                                        <appearance importance="normal" multiline="true">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.RkkResourceContractsForm.field.copies.hintPopUp:Кол-во экземпляров}</hint-pop-up>
                                    </field>
                                </component>
                            </section>
                            <section id="Additional_right" group="true">
                                <appearance field-layout="horizontal"/>
                                <component>
                                    <field attribute-ref="appendices"
                                           name="${ui.form.AgreementResourceForm.field.appendices.name:Кол-во приложений:}">
                                        <appearance importance="normal" multiline="true">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.appendices.hintPopUp:Кол-во приложений}</hint-pop-up>
                                    </field>
                                    <field attribute-ref="appendicesPages"
                                           name="${ui.form.AgreementResourceForm.field.appendicesPages.name:Листов приложения:}">
                                        <appearance importance="normal" multiline="true">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.appendicesPages.hintPopUp:Листов приложения}
                                        </hint-pop-up>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <field attribute-ref="labelInitiator">
                        <properties>
                            <read-only condition-union="AND">
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <section id="Initiator" group="true">
                        <appearance field-layout="horizontal"/>
                        <component>
                            <section id="Initiator_left" group="true">
                                <appearance>
                                    <dialog-mode width="50" unit="percent"/>
                                </appearance>
                                <component>
                                    <field recalc="true" attribute-ref="preparedBy"
                                           name="${ui.form.AgreementResourceForm.field.initiator.name:Инициатор:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.initiator.name.hintPopUp:Инициатор}</hint-pop-up>
                                        <properties>
                                            <require condition-union="AND">
                                                <condition-ref ref="edit"/>
                                            </require>
                                        </properties>
                                        <directories limit-livesearch="sys-current">
                                            <directory-ref ref="CURRENT_SYS_HUMAN"/>
                                            <directory-ref ref="sys_roles"/>
                                        </directories>
                                    </field>
                                    <field attribute-ref="execPost" name="${ui.form.AgreementResourceForm.field.initiator.post.name:Должность:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.initiator.post.hintPopUp:Должность}</hint-pop-up>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                    </field>
                                    <field attribute-ref="execPhone" name="${ui.form.AgreementResourceForm.field.initiator.phone.name:Телефон:}">
                                        <appearance importance="normal">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.initiator.phone.hintPopUp:Телефон}</hint-pop-up>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                    </field>
                                </component>
                            </section>
                            <section id="Initiator_right" group="true">
                                <component>
                                    <field attribute-ref="execDepartment" name="${ui.form.AgreementResourceForm.field.execDepartment.name:Подразделение:}">
                                        <appearance importance="normal" multiline="true">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <show-value schema-ref="VCardResource.EmployeeShortInfo"/>
                                        <hint-pop-up>${ui.form.AgreementResourceForm.field.execDepartment.hintPopUp:Подразделение}</hint-pop-up>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                    </field>
                                    <field attribute-ref="execParentDepartment"
                                           name="${ui.form.AgreementResourceForm.field.execParentDepartment.name:Вышестоящее подразделение:}">
                                        <appearance importance="normal" multiline="true">
                                            <label-style>
                                                <style id="tunBorderedFieldLight"/>
                                            </label-style>
                                        </appearance>
                                        <hint-pop-up>
                                            ${ui.form.AgreementResourceForm.field.execParentDepartment.hintPopUp:Самостоятельное подразделение/РВЗ или вышестоящее подразделение:}
                                        </hint-pop-up>
                                        <properties>
                                            <read-only condition-union="AND">
                                                <condition>true</condition>
                                            </read-only>
                                        </properties>
                                        <show-value schema-ref="VCardResource.DepOrRvzWithVacancy"/>
                                    </field>
                                </component>
                            </section>
                        </component>
                    </section>
                    <field attribute-ref="labelVersion">
                        <properties>
                            <read-only condition-union="AND">
                                <condition>true</condition>
                            </read-only>
                        </properties>
                        <appearance importance="normal">
                            <label-style>
                                <style id="tunBgGrayBlue"/>
                                <style id="tunCaption"/>
                            </label-style>
                        </appearance>
                    </field>
                    <section id="VersionSection" group="true">
                        <appearance field-layout="horizontal">
                            <dialog-mode unit="percent" width="50"/>
                        </appearance>
                        <component>
                            <field attribute-ref="versionInfo.numberString" name="${ui.form.AgreementResourceForm.field.versionInfo.number:№ версии:}">
                                <appearance importance="normal">
                                    <label-style>
                                        <style id="tunBorderedFieldLight"/>
                                    </label-style>
                                </appearance>
                                <properties>
                                    <read-only>
                                        <condition>true</condition>
                                    </read-only>
                                </properties>
                            </field>
                            <field attribute-ref="versionInfo.oldNumberString" name="${ui.form.AgreementResourceForm.field.versionInfo.oldNumber:Создан по версии:}">
                                <appearance importance="normal">
                                    <label-style>
                                        <style id="tunBorderedFieldLight"/>
                                    </label-style>
                                </appearance>
                                <properties>
                                    <read-only>
                                        <condition>true</condition>
                                    </read-only>
                                </properties>
                            </field>
                        </component>
                    </section>
                </component>
            </section>
            <section id="ContentSection" name="${ui.form.AgreementResourceForm.section.ContentSection.name:Содержание}">
                <component>
                    <section id="contentMenu">
                        <properties>
                            <hide condition-union="AND">
                                <condition-ref ref="showOtherContentSectionAgrDocuments"/>
                            </hide>
                        </properties>
                        <appearance widget="leftMenu">
                            <label-style width="23" unit="symbol"/>
                        </appearance>
                        <component>
                            <field attribute-ref="$content" name="${ui.form.AgreementResourceForm.field.content.name:Документ}">
                                <properties>
                                    <read-only condition-union="AND">
                                        <condition-ref ref="contentSectionIsEmptyAndReadAgr"/>
                                    </read-only>
                                    <hide>
                                        <condition-ref ref="contentAgrIsEmpty"/>
                                    </hide>
                                </properties>
                                <appearance importance="normal"/>
                            </field>
                            <field attribute-ref="image" name="${ui.form.AgreementResourceForm.field.image.name:Образ после подписания}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="canSeeImageAgr"/>
                                        <negative-condition-ref ref="read"/>
                                    </hide>
                                </properties>
                                <appearance importance="normal" widget="ContentListWithPreview"/>
                            </field>
                            <field attribute-ref="image" name="${ui.form.AgreementResourceForm.field.image.name:Образ после подписания}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="Signed_Agr"/>
                                        <negative-condition-ref ref="edit"/>
                                    </hide>
                                </properties>
                                <appearance importance="normal" widget="ContentListWithPreview"/>
                            </field>
                            <field attribute-ref="contentAdd" name="${ui.form.AgreementResourceForm.field.contentAdd.name:Доп. информация}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="edit"/>
                                        <negative-condition-ref ref="contentAgreementAddEmpty"/>
                                    </hide>
                                </properties>
                                <appearance importance="normal"/>
                            </field>
                            <field attribute-ref="contentAdd" name="${ui.form.AgreementResourceForm.field.contentAdd.name:Доп. информация}">
                                <properties>
                                    <hide condition-union="AND">
                                        <negative-condition-ref ref="contentAgreementAddNotEmpty"/>
                                    </hide>
                                </properties>
                                <appearance importance="normal"/>
                            </field>
                        </component>
                    </section>
                    <field attribute-ref="$content">
                        <appearance importance="normal"/>
                        <properties>
                            <read-only>
                                <condition>true</condition>
                            </read-only>
                            <hide condition-union="OR">
                                <negative-condition-ref ref="showOtherContentSectionAgrDocuments"/>
                                <negative-condition-ref ref="read"/>
                            </hide>
                        </properties>
                    </field>
                    <field attribute-ref="fakeString">
                        <properties>
                            <read-only>
                                <condition>true</condition>
                            </read-only>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="showOtherContentSectionAgrDocuments"/>
                                <negative-condition-ref ref="contentAgrIsEmpty"/>
                            </hide>
                        </properties>
                    </field>
                </component>
            </section>
            <section id="Distribution" name="${ui.form.AgreementResourceForm.section.Distribution.name:Рассылка}">
                <component>
                    <field attribute-ref="sendlist" name="${ui.form.AgreementResourceForm.field.sendlist.name:Список рассылки:}">
                        <appearance importance="normal">
                            <field-style group="true"/>
                            <label-style>
                                <style id="tunBorderedFieldLight"/>
                            </label-style>
                        </appearance>
                        <hint-pop-up>${ui.form.AgreementResourceForm.section.Distribution.field.sendlist.hintPopUp:Список рассылки}</hint-pop-up>
                        <directories limit-livesearch="sys-current">
                            <directory-ref ref="CURRENT_HH_ROLE_HUMAN"/>
                            <directory-ref ref="CURRENT_WITHOUT_DEP"/>
                            <directory-ref ref="ALIEN_BEARDS_HUMANONLY"/>
                            <directory-ref ref="sendlist"/>
                            <directory-ref ref="sys_roles"/>
                            <directory-ref ref="FV_CURR_ALL_FOREIGN_HUMAN_HH_DEP_ORG"/>
                        </directories>
                    </field>
                </component>
            </section>
            <section id="LifeCycle" name="${ui.form.AgreementResourceForm.section.LifeCycle.name:Жизненный цикл}">
                <appearance widget="leftMenu"/>
                <component>
                    <section id="Preparation" name="${ui.form.AgreementResourceForm.section.LifeCycle.section.Preparation.name:Подготовка}">
                        <properties>
                            <hide condition-union="AND">
                                <condition>true</condition>
                            </hide>
                        </properties>
                    </section>
                    <section id="ApprovingSection" name="${ui.form.AgreementResourceForm.section.LifeCycle.ApprovingSection.name:Согласование}">
                        <properties>
                            <hide condition-union="AND">
                                <negative-condition-ref ref="wasUnderAppr"/>
                            </hide>
                        </properties>
                        <component>
                            <section name="${ui.form.AgreementResourceForm.section.LifeCycle.section.ApprovingSection.section.Approving.name:Иерархия согласования}" id="Approving"/>
                            <section name="${ui.form.AgreementResourceForm.section.LifeCycle.section.ApprovingSection.section.ApprovingHistoryTab.name:Редакции файлов}" id="ApprovingHistoryTab"/>
                            <section id="ApprovingButtons">
                                <appearance widget="inactiveTab"/>
                            </section>
                        </component>
                        <appearance widget="radioTabPanel" align="right"/>
                    </section>
                    <section id="ApprovingSection" name="${ui.form.AgreementResourceForm.section.LifeCycle.ApprovingSection.name:Согласование}" group="true">
                        <properties>
                            <hide condition-union="AND">
                                <condition-ref ref="wasUnderAppr"/>
                            </hide>
                        </properties>
                        <component>
                            <section id="ApprovingButtons">
                                <appearance widget="inactiveTab"/>
                            </section>
                            <section name="${ui.form.AgreementResourceForm.section.LifeCycle.section.ApprovingSection.section.Approving.name:Иерархия согласования}" id="Approving"/>
                        </component>
                    </section>
                    <section id="IssueFixingSection" name="${ui.form.AgreementResourceForm.section.LifeCycle.section.IssueFixingSection.name:Снятие замечаний}" group="true">
                        <properties>
                            <hide>
                                <negative-condition-ref ref="approveIssueFixingIsNamed"/>
                            </hide>
                        </properties>
                        <component>
                            <section id="IssueFixingButtons"/>
                            <section name="${ui.form.DocumentResourceForm.section.LifeCycle.IssueFixingSection.section.IssueFixing.name:Иерархия снятия замечаний}" id="IssueFixing"/>
                        </component>
                    </section>
                    <section id="Signing" name="${ui.form.AgreementResourceForm.section.LifeCycle.section.Signing.name:Подписание}"/>
                    <section id="Registration" name="${ui.form.AgreementResourceForm.section.LifeCycle.section.Registration.name:Регистрация}"/>
                    <section id="Review" name="${ui.form.AgreementResourceForm.section.LifeCycle.section.Review.name:Ознакомление}"/>
                    <section id="Execution" name="${ui.form.AgreementResourceForm.section.LifeCycle.section.Execution.name:Исполнение}"/>
                </component>
            </section>
            <section id="Structure" name="${ui.form.AgreementResourceForm.section.Structure.name:Структура}"/>
            <section id="Links" name="${ui.form.AgreementResourceForm.section.Links.name:Связанные}">
                <appearance widget="leftMenu"/>
                <component>
                    <section id="DocumentsAccess" name="${ui.form.AgreementResourceForm.section.Links.section.Documеnts.name:Документы}" group="true">
                        <component>
                            <field attribute-ref="disableLinkAccess"
                                   name="${ui.form.AgreementResourceForm.field.disableLinkAccess.name:Ограничить доступ по связям:}">
                                <appearance align="right" importance="normal">
                                    <label-style label-unit="symbol" label-width="30" field-width="2" field-unit="symbol"/>
                                </appearance>
                                <hint-in-field>
                                    ${ui.form.AgreementResourceForm.field.disableLinkAccess.hintInField:Не дается доступ к текущему документу читателям связанных документов}
                                </hint-in-field>
                            </field>
                            <section id="Documеnts"/>
                        </component>
                    </section>
                    <section id="Cases" name="${ui.form.AgreementResourceForm.section.Links.section.Cases.name:Кейсы}">
                        <properties>
                            <hide condition-union="AND">
                                <condition>true</condition>
                            </hide>
                        </properties>
                    </section>
                    <section id="FilesWithCopies" name="${ui.form.AgreementResourceForm.section.Links.section.FilesWithCopies.name:Дела}">
                        <properties>
                            <hide condition-union="AND">
                                <condition-ref ref="isOldFrCompatible"/>
                                <condition-ref ref="IsProject_RKK"/>
                            </hide>
                            <read-only condition-union="OR">
                                <condition-ref ref="read"/>
                                <condition-ref ref="dialog"/>
                            </read-only>
                        </properties>
                    </section>
                    <section id="Files" name="${ui.form.AgreementResourceForm.section.Links.section.Files.name:Дела}">
                        <properties>
                            <hide condition-union="AND">
                                <condition-ref ref="isOldFrNotCompatible"/>
                                <condition-ref ref="IsProject_RKK"/>
                            </hide>
                            <read-only condition-union="OR">
                                <condition-ref ref="read"/>
                                <condition-ref ref="dialog"/>
                            </read-only>
                        </properties>
                    </section>
                    <section id="Visualization" name="${ui.form.AgreementResourceForm.section.Links.section.Visualization.name:Визуализация}"/>
                </component>
            </section>
            <section id="Discussion" name="${ui.form.AgreementResourceForm.section.Discussion.name:Обсуждения}">
                <properties>
                    <hide condition-union="AND">
                        <negative-condition-ref ref="canDiscuss"/>
                    </hide>
                    <read-only>
                        <condition-ref ref="edit"/>
                    </read-only>
                </properties>
            </section>
            <section id="History" name="${ui.form.AgreementResourceForm.section.History.name:История}"/>
        </component>
    </form>
</ui>